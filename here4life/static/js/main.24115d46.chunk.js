(this["webpackJsonphere-safe-way"]=this["webpackJsonphere-safe-way"]||[]).push([[0],{24:function(e,a,t){e.exports=t.p+"static/media/logo.2b0ab00d.png"},26:function(e,a,t){e.exports=t(52)},51:function(e,a,t){},52:function(e,a,t){"use strict";t.r(a);var o=t(0),c=t.n(o),r=t(23),n=t.n(r),i=t(8),l=t(9),s=t(7),_=t(10),h=t(11),u=function(e,a,t){var o=document.createElement("div");o.style.backgroundColor=e,o.style.width="20px",o.style.height="20px",o.style.borderRadius="20px";var c=function(e){return e.target.style.opacity=.6},r=function(e){return e.target.style.opacity=1},n=new window.H.map.DomIcon(o,{onAttach:function(e,a,t){e.addEventListener("mouseover",c),e.addEventListener("mouseout",r)},onDetach:function(e,a,t){e.removeEventListener("mouseover",c),e.removeEventListener("mouseout",r)}});return new window.H.map.DomMarker({lat:a,lng:t},{icon:n})},m=function(e){Object(h.a)(t,e);var a=Object(_.a)(t);function t(){var e;Object(i.a)(this,t);for(var o=arguments.length,c=new Array(o),r=0;r<o;r++)c[r]=arguments[r];return(e=a.call.apply(a,[this].concat(c))).state={map:null},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=window.H,a={Platform:{},DefaultLayers:{},Map:{},TileService:{},TileLayer:{},Behavior:{},UI:{},Settings:{center:{lat:51.00684227163969,lng:10.008544921875},zoom:6,pixelRatio:window.devicePixelRatio||1,engineType:e.map.render.p2d},ZoomControl:{},MapSettingsControl:{}};a.Platform=new e.service.Platform({apikey:this.props.apikey}),a.DefaultLayers=a.Platform.createDefaultLayers(),a.TileService=a.Platform.getMapTileService({type:"base"}),a.TileLayer=a.TileService.createTileLayer("maptile","normal.day.grey",256,"png8",{}),a.Map=new e.Map(document.querySelector("#map"),a.TileLayer,a.Settings),a.Behavior=new e.mapevents.Behavior(new e.mapevents.MapEvents(a.Map)),a.Behavior.disable(e.mapevents.Behavior.Feature.FRACTIONAL_ZOOM),a.UI=new e.ui.UI(a.Map),a.ZoomControl=new e.ui.ZoomControl({fractionalZoom:!1}),a.UI.addControl("zoom",a.ZoomControl),a.MapSettingsControl=new e.ui.MapSettingsControl({baseLayers:[{label:"Normal Map",layer:a.DefaultLayers.vector.normal.map},{label:"Satellite",layer:a.DefaultLayers.raster.satellite.map}]}),a.UI.addControl("mapsettings",a.MapSettingsControl),window.addEventListener("resize",(function(){a.Map.getViewPort().resize()})),this.setState({map:a.Map})}},{key:"componentWillUnmount",value:function(){this.state.map.dispose()}},{key:"render_layer",value:function(e,a){null!=a&&!0===a.show&&a.geojson.features.forEach((function(t){var o=t.geometry.coordinates;e.addObject(u(a.color,o[1],o[0]))}))}},{key:"render",value:function(){var e=this,a=this.props.layers,t=this.state.map;return null!=t&&(t.removeObjects(t.getObjects()),0!==a.length&&a.forEach((function(a){return e.render_layer(t,a.data)}))),c.a.createElement("div",{id:"map"})}}]),t}(o.Component),g=t(12),p=t(13),d="rgba(0,128,0,.4)",w="rgba(255,152,0,.4)",k="rgba(255,0,0,.4)",v="rgba(158,158,158,.4)",y="rgba(0,123,255,.5)",b="rgba(23,162,184,.5)",f={fontSize:"11px"},x={fontWeight:"bold"},E=function(e){var a={width:"20px",height:"20px",borderRadius:"20px",marginLeft:"10px"};return a.backgroundColor=e.color,c.a.createElement("div",{style:a})},C=function(e){return c.a.createElement("label",{onClick:e.onClick?e.onClick:function(e){e.preventDefault(),console.log("The link was clicked.")},style:e.style},c.a.createElement("span",{style:e.title_style},e.title),e.text)},S=function(e){return c.a.createElement("div",{className:e.className,onClick:e.onClick,style:e.active?{height:"20px",width:"20px",border:"2px solid #0bc7c2",borderRadius:"5px",cursor:"pointer",backgroundColor:"#0bc7c2"}:{height:"20px",width:"20px",border:"2px solid #0bc7c2",borderRadius:"5px",cursor:"pointer"}})},B=function(e){var a=function(e){e.preventDefault()};return c.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},e.content_show?c.a.createElement(p.a,{onClick:e.onClick?e.onClick:a,className:e.icon_show?"d-block":"d-none",style:{marginRight:"5px",cursor:"pointer"}}):c.a.createElement(p.b,{onClick:e.onClick?e.onClick:a,className:e.icon_show?"d-block":"d-none",style:{marginRight:"5px",cursor:"pointer"}}),c.a.createElement(S,{className:e.checkbox_show?"d-block":"d-none",onClick:e.checkBoxClick?e.checkBoxClick:a,active:e.active}),e.children,c.a.createElement(C,{onClick:e.onClick?e.onClick:a,style:{marginLeft:"5px",cursor:"pointer"},title:e.title}))},O=function(e){return c.a.createElement("div",{className:e.content_show?"d-block":"d-none",style:{display:"flex",flexDirection:"column",marginTop:"5px",marginLeft:"39px"}},e.children)},L=function(e){Object(h.a)(t,e);var a=Object(_.a)(t);function t(e){var o;return Object(i.a)(this,t),(o=a.call(this,e)).state={group_icu_low_care:!1,group_icu_high_care:!1,group_icu_ecmo:!1},o.extractLayerData=o.extractLayerData.bind(Object(s.a)(o)),o}return Object(l.a)(t,[{key:"extractLayerData",value:function(e,a){return e.find((function(e){return e.name===a}))}},{key:"icu_low_care_group",value:function(){this.setState({group_icu_low_care:!this.state.group_icu_low_care});var e=this.props.checkBoxClickSetShow,a=this.state,t=a.group_icu_low_care,o=a.group_icu_high_care,c=a.group_ecmo;e("german_hospitals_icu_low_care_green",!t),e("german_hospitals_icu_low_care_orange",!t),e("german_hospitals_icu_low_care_red",!t),e("german_hospitals_icu_low_care_unavailable",!t),o&&(this.setState({group_icu_high_care:!1}),e("german_hospitals_icu_high_care_green",!1),e("german_hospitals_icu_high_care_orange",!1),e("german_hospitals_icu_high_care_red",!1),e("german_hospitals_icu_high_care_unavailable",!1)),c&&(this.setState({group_ecmo:!1}),e("german_hospitals_ecmo_green",!1),e("german_hospitals_ecmo_orange",!1),e("german_hospitals_ecmo_red",!1),e("german_hospitals_ecmo_unavailable",!1))}},{key:"icu_high_care_group",value:function(){this.setState({group_icu_high_care:!this.state.group_icu_high_care});var e=this.props.checkBoxClickSetShow,a=this.state,t=a.group_icu_low_care,o=a.group_icu_high_care,c=a.group_ecmo;e("german_hospitals_icu_high_care_green",!o),e("german_hospitals_icu_high_care_orange",!o),e("german_hospitals_icu_high_care_red",!o),e("german_hospitals_icu_high_care_unavailable",!o),t&&(this.setState({group_icu_low_care:!1}),e("german_hospitals_icu_low_care_green",!1),e("german_hospitals_icu_low_care_orange",!1),e("german_hospitals_icu_low_care_red",!1),e("german_hospitals_icu_low_care_unavailable",!1)),c&&(this.setState({group_ecmo:!1}),e("german_hospitals_ecmo_green",!1),e("german_hospitals_ecmo_orange",!1),e("german_hospitals_ecmo_red",!1),e("german_hospitals_ecmo_unavailable",!1))}},{key:"ecmo_group",value:function(){this.setState({group_ecmo:!this.state.group_ecmo});var e=this.props.checkBoxClickSetShow,a=this.state,t=a.group_icu_low_care,o=a.group_icu_high_care,c=a.group_ecmo;e("german_hospitals_ecmo_green",!c),e("german_hospitals_ecmo_orange",!c),e("german_hospitals_ecmo_red",!c),e("german_hospitals_ecmo_unavailable",!c),t&&(this.setState({group_icu_low_care:!1}),e("german_hospitals_icu_low_care_green",!1),e("german_hospitals_icu_low_care_orange",!1),e("german_hospitals_icu_low_care_red",!1),e("german_hospitals_icu_low_care_unavailable",!1)),o&&(this.setState({group_icu_high_care:!1}),e("german_hospitals_icu_high_care_green",!1),e("german_hospitals_icu_high_care_orange",!1),e("german_hospitals_icu_high_care_red",!1),e("german_hospitals_icu_high_care_unavailable",!1))}},{key:"render",value:function(){var e,a,t=this,o=this.state,r=o.group_icu_low_care,n=o.group_icu_high_care,i=o.group_ecmo,l=this.props,s=l.layers,_=l.analytics,h=l.changeAnalytics,u=l.checkBoxClick,m=(l.checkBoxClickSetShow,_.german_hospitals_show),p=_.german_hospitals_low_care_show,S=_.german_hospitals_high_care_show,L=_.german_hospitals_ecmo_show,j=this.extractLayerData(s,"german_hospitals"),D=this.extractLayerData(s,"german_warehouses"),M=this.extractLayerData(s,"german_hospitals_icu_low_care_green"),A=this.extractLayerData(s,"german_hospitals_icu_low_care_orange"),T=this.extractLayerData(s,"german_hospitals_icu_low_care_red"),U=this.extractLayerData(s,"german_hospitals_icu_low_care_unavailable"),I=this.extractLayerData(s,"german_hospitals_icu_high_care_green"),N=this.extractLayerData(s,"german_hospitals_icu_high_care_orange"),R=this.extractLayerData(s,"german_hospitals_icu_high_care_red"),F=this.extractLayerData(s,"german_hospitals_icu_high_care_unavailable"),z=this.extractLayerData(s,"german_hospitals_ecmo_green"),P=this.extractLayerData(s,"german_hospitals_ecmo_orange"),J=this.extractLayerData(s,"german_hospitals_ecmo_red"),Z=this.extractLayerData(s,"german_hospitals_ecmo_unavailable");return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"mt-3"},c.a.createElement(C,{style:f,title_style:x,title:"ICU low care: ",text:"Intensive care beds without invasive ventilation (monitoring, possibly non-invasive ventilation possible)"}),c.a.createElement(C,{style:f,title_style:x,title:"ICU high care: ",text:"intensive care beds with invasive ventilation (ventilation beds)"}),c.a.createElement(C,{style:f,title_style:x,title:"ECMO: ",text:"Additional extracorporeal membrane oxygenation"})),c.a.createElement(B,(e={active:!1,icon_show:!1,checkbox_show:!0,title:"Medical Warehouses"},Object(g.a)(e,"active",!!D&&D.data.show),Object(g.a)(e,"checkBoxClick",(function(){return u("german_warehouses")})),e),c.a.createElement(E,{color:b})),c.a.createElement(B,(a={active:!1,icon_show:!1,checkbox_show:!0,title:"Hospitals"},Object(g.a)(a,"active",!!j&&j.data.show),Object(g.a)(a,"checkBoxClick",(function(){return u("german_hospitals")})),a),c.a.createElement(E,{color:y})),c.a.createElement("hr",null),c.a.createElement(B,{title:"Hospitals status",icon_show:!0,content_show:!!m,onClick:function(){return h("german_hospitals_show")}}),c.a.createElement(O,{content_show:!!m},c.a.createElement(B,{title:"ICU low care",icon_show:!0,checkbox_show:!0,content_show:p,onClick:function(){return h("german_hospitals_low_care_show")},active:r,checkBoxClick:function(){t.icu_low_care_group()}}),c.a.createElement(O,{content_show:p},c.a.createElement(B,{title:"Availible",checkbox_show:!0,active:!!M&&M.data.show,checkBoxClick:function(){return u("german_hospitals_icu_low_care_green")}},c.a.createElement(E,{color:d})),c.a.createElement(B,{title:"Limited",checkbox_show:!0,active:!!A&&A.data.show,checkBoxClick:function(){return u("german_hospitals_icu_low_care_orange")}},c.a.createElement(E,{color:w})),c.a.createElement(B,{title:"Occupied",checkbox_show:!0,active:!!T&&T.data.show,checkBoxClick:function(){return u("german_hospitals_icu_low_care_red")}},c.a.createElement(E,{color:k})),c.a.createElement(B,{title:"Unavailible",checkbox_show:!0,active:!!U&&U.data.show,checkBoxClick:function(){return u("german_hospitals_icu_low_care_unavailable")}},c.a.createElement(E,{color:v}))),c.a.createElement(B,{title:"ICU high care",icon_show:!0,checkbox_show:!0,active:n,content_show:S,onClick:function(){return h("german_hospitals_high_care_show")},checkBoxClick:function(){t.icu_high_care_group()}}),c.a.createElement(O,{content_show:S},c.a.createElement(B,{title:"Availible",checkbox_show:!0,active:!!I&&I.data.show,checkBoxClick:function(){return u("german_hospitals_icu_high_care_green")}},c.a.createElement(E,{color:d})),c.a.createElement(B,{title:"Limited",checkbox_show:!0,active:!!N&&N.data.show,checkBoxClick:function(){return u("german_hospitals_icu_high_care_orange")}},c.a.createElement(E,{color:w})),c.a.createElement(B,{title:"Occupied",checkbox_show:!0,active:!!R&&R.data.show,checkBoxClick:function(){return u("german_hospitals_icu_high_care_red")}},c.a.createElement(E,{color:k})),c.a.createElement(B,{title:"Unavailable",checkbox_show:!0,active:!!F&&F.data.show,checkBoxClick:function(){return u("german_hospitals_icu_high_care_unavailable")}},c.a.createElement(E,{color:v}))),c.a.createElement(B,{title:"ECMO",active:i,icon_show:!0,checkbox_show:!0,content_show:L,onClick:function(){return h("german_hospitals_ecmo_show")},checkBoxClick:function(){t.ecmo_group()}}),c.a.createElement(O,{content_show:L},c.a.createElement(B,{title:"Availible",checkbox_show:!0,active:!!z&&z.data.show,checkBoxClick:function(){return u("german_hospitals_ecmo_green")}},c.a.createElement(E,{color:d})),c.a.createElement(B,{title:"Limited",checkbox_show:!0,active:!!P&&P.data.show,checkBoxClick:function(){return u("german_hospitals_ecmo_orange")}},c.a.createElement(E,{color:w})),c.a.createElement(B,{title:"Occupied",checkbox_show:!0,active:!!J&&J.data.show,checkBoxClick:function(){return u("german_hospitals_ecmo_red")}},c.a.createElement(E,{color:k})),c.a.createElement(B,{title:"Unavailible",checkbox_show:!0,active:!!Z&&Z.data.show,checkBoxClick:function(){return u("german_hospitals_ecmo_unavailable")}},c.a.createElement(E,{color:v})))))}}]),t}(o.Component),j=t(54),D=t(55),M=t(56),A=t(57),T=t(58),U=t(59),I=t(60),N=t(24),R=t.n(N),F={position:"absolute",top:"0px",left:"0px",background:"#fff",height:"100vh",width:"350px",overflowY:"auto"},z=function(e){return c.a.createElement("img",{src:R.a,style:{height:"30px"}})},P=function(e){return c.a.createElement("b",{style:{color:"#3a3e47",marginLeft:"15px",fontSize:"20px"}},e.text)},J=function(e){Object(h.a)(t,e);var a=Object(_.a)(t);function t(e){return Object(i.a)(this,t),a.call(this,e)}return Object(l.a)(t,[{key:"render",value:function(){var e=this.props,a=e.mode,t=e.layers,o=e.analytics,r=e.changeMode,n=e.changeAnalytics,i=e.checkBoxClick,l=e.checkBoxClickSetShow;return c.a.createElement(j.a,{style:F},c.a.createElement(D.a,{className:"w-100",color:"default",light:!0,expand:"md"},c.a.createElement(M.a,null,c.a.createElement(z,null)),c.a.createElement(A.a,{className:"mr-auto",navbar:!0},c.a.createElement(T.a,null,c.a.createElement(P,{text:"Analytical tool"})))),c.a.createElement(U.a,{className:"w-100",style:{marginTop:"5px"}},c.a.createElement(I.a,{color:"light",onClick:function(){return r("analytics")},active:"analytics"===a},"Analytics"),c.a.createElement(I.a,{color:"light",onClick:function(){return r("routing")},active:"routing"===a},"Routing")),"analytics"===this.props.mode?c.a.createElement(L,{layers:t,analytics:o,changeAnalytics:n,checkBoxClick:i,checkBoxClickSetShow:l}):c.a.createElement("div",null))}}]),t}(o.Component),Z=t(25),H=t.n(Z),q="d94UCjhJ6sEzabRJjKV8Z5-w6Py99jqHQAB-uj6g6ks",K="AJEEY1OMuNKuOBxJrdB6Rao",W={german_hospitals:"uQk5qm8J",german_warehouses:"hoCxTKFb"},Q="rgba(0,128,0,.6)",V="rgba(255,152,0,.6)",Y="rgba(255,0,0,.6)",G="rgba(158,158,158,.6)",X="rgba(0,123,255,.6)",$=function(e,a,t){var o;return"green"===t?o=Q:"yellow"===t?o=V:"red"===t?o=Y:"unavailable"===t&&(o=G),{show:!1,color:o,geojson:{type:"FeatureCollection",features:e.features.filter((function(e){return e.properties[a]===t}))}}},ee=["icu_low_care","icu_high_care","ecmo"],ae=function(e){return[{name:"german_hospitals",data:{show:!1,color:X,geojson:e}},{name:"german_hospitals_icu_low_care_green",data:$(e,ee[0],"green")},{name:"german_hospitals_icu_low_care_orange",data:$(e,ee[0],"yellow")},{name:"german_hospitals_icu_low_care_red",data:$(e,ee[0],"red")},{name:"german_hospitals_icu_low_care_unavailable",data:$(e,ee[0],"unavailable")},{name:"german_hospitals_icu_high_care_green",data:$(e,ee[1],"green")},{name:"german_hospitals_icu_high_care_orange",data:$(e,ee[1],"yellow")},{name:"german_hospitals_icu_high_care_red",data:$(e,ee[1],"red")},{name:"german_hospitals_icu_high_care_unavailable",data:$(e,ee[1],"unavailable")},{name:"german_hospitals_ecmo_green",data:$(e,ee[2],"green")},{name:"german_hospitals_ecmo_orange",data:$(e,ee[2],"yellow")},{name:"german_hospitals_ecmo_red",data:$(e,ee[2],"red")},{name:"german_hospitals_ecmo_unavailable",data:$(e,ee[2],"unavailable")}]},te=function(e){Object(h.a)(t,e);var a=Object(_.a)(t);function t(e){var o;return Object(i.a)(this,t),(o=a.call(this,e)).state={apikey:q,mode:"analytics",analytics:{german_hospitals_show:!0,german_warehouses_show:!0,german_hospitals_low_care_show:!0,german_hospitals_high_care_show:!0,german_hospitals_ecmo_show:!0},layers:[]},o.changeMode=o.changeMode.bind(Object(s.a)(o)),o.changeAnalytics=o.changeAnalytics.bind(Object(s.a)(o)),o.checkBoxClick=o.checkBoxClick.bind(Object(s.a)(o)),o.checkBoxClickSetShow=o.checkBoxClickSetShow.bind(Object(s.a)(o)),o}return Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getSpaceFeatures(W.german_hospitals,"german_hospitals",null,ae),this.getSpaceFeatures(W.german_warehouses,"german_warehouses","rgba(23,162,184,.5)",!1)}},{key:"getSpaceFeatures",value:function(e,a,t){var o=this,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r="https://xyz.api.here.com/hub/spaces/".concat(e,"/iterate?access_token=").concat(K),n=this.state.layers;H.a.get(r).then((function(e){c?c(e.data).forEach((function(e){return n.push(e)})):n.push({name:a,data:{show:!1,color:t,geojson:e.data}});o.setState({layers:n})}),(function(e){console.log(e)}))}},{key:"changeMode",value:function(e){this.setState({mode:e})}},{key:"changeAnalytics",value:function(e){var a=this.state.analytics;a[e]=!a[e],this.setState({analytics:a})}},{key:"checkBoxClick",value:function(e){var a=this.state.layers,t=a.find((function(a){return a.name===e}));a[a.indexOf(t)].data.show=!a[a.indexOf(t)].data.show,this.setState({layers:a})}},{key:"checkBoxClickSetShow",value:function(e,a){var t=this.state.layers,o=t.find((function(a){return a.name===e}));t[t.indexOf(o)].data.show=a,this.setState({layers:t})}},{key:"render",value:function(){var e=this.state,a=e.apikey,t=e.layers,o=e.analytics,r=e.mode;return c.a.createElement(c.a.Fragment,null,c.a.createElement(m,{apikey:a,layers:t}),c.a.createElement(J,{analytics:o,mode:r,layers:t,changeMode:this.changeMode,changeAnalytics:this.changeAnalytics,checkBoxClick:this.checkBoxClick,checkBoxClickSetShow:this.checkBoxClickSetShow}))}}]),t}(o.Component);t(50),t(51);n.a.render(c.a.createElement(te,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.24115d46.chunk.js.map