(this.webpackJsonphere4life=this.webpackJsonphere4life||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),l=a(41),r=a.n(l),o=a(43),c=a(24),s=a(3),d=a.n(s),p=a(2),h=a(22),u=a(18),m=a(19),g=a(5),f=a(20),v=a(21),w=a(16),b=a.n(w),y=window.H,C=function(e,t){return{getClusterPresentation:function(t){var a,i=t.getWeight(),n=[],l=[],r=[];t.forEachDataPoint((function(e){switch(e.getData().high_care){case"Available":n.push(1);break;case"Limited":l.push(1);break;case"Not available":r.push(1)}})),r.length>=n.length&&r.length>=l.length?a='<svg width="58" height="55" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><path d="M466 276 524 276 524 331 466 331Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath></defs><g clip-path="url(#clip0)" transform="translate(-466 -276)"><path d="M500 324 477 312.5 477 288.5 500 277 523 288.5 523 312.5Z" fill="#C41C33" fill-rule="evenodd" fill-opacity="0.501961"/><path d="M489.5 328 466 316.25 466 292.75 489.5 281 513 292.75 513 316.25Z" fill="#C41C33" fill-rule="evenodd"/><text fill="#FFFFFF" font-family="FiraGO,FiraGO_MSFontService,sans-serif" font-weight="400" font-size="21" transform="translate(483.852 311)">{weight}</text></g></svg>':n.length>r.length&&n.length>l.length?a='<svg width="58" height="54" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><path d="M380 278 438 278 438 332 380 332Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath></defs><g clip-path="url(#clip0)" transform="translate(-380 -278)"><path d="M414.5 325 391 313.5 391 290.5 414.5 279 438 290.5 438 313.5Z" fill="#06B87C" fill-rule="evenodd" fill-opacity="0.501961"/><path d="M404 329 381 317.5 381 294.5 404 283 427 294.5 427 317.5Z" fill="#06B87C" fill-rule="evenodd"/><text fill="#FFFFFF" font-family="FiraGO,FiraGO_MSFontService,sans-serif" font-weight="400" font-size="21" transform="translate(398.518 313)">{weight}</text></g></svg>':l.length>=n.length&&l.length>r.length&&(a='<svg width="58" height="54" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><path d="M561 282 619 282 619 336 561 336Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath></defs><g clip-path="url(#clip0)" transform="translate(-561 -282)"><path d="M595.5 329 572 317.25 572 293.75 595.5 282 619 293.75 619 317.25Z" fill="#FAB800" fill-rule="evenodd" fill-opacity="0.501961"/><path d="M585 333 562 321.5 562 297.5 585 286 608 297.5 608 321.5Z" fill="#FAB800" fill-rule="evenodd"/><text fill="#FFFFFF" font-family="FiraGO,FiraGO_MSFontService,sans-serif" font-weight="400" font-size="21" transform="translate(579.42 316)">{weight}</text></g></svg>');var o=a.replace(/\{weight\}/g,i),c=new y.map.Icon(o,{size:{w:35,h:35}}),s=new y.map.Marker(t.getPosition(),{icon:c,min:t.getMinZoom(),max:t.getMaxZoom()});return s.setData(t),s.addEventListener("tap",(function(t){e.getViewModel().setLookAtData({zoom:t.target.getMax()+1,bounds:t.target.getGeometry()})})),s},getNoisePresentation:function(e){var a,i=e.getData();a="Available"===i.high_care?'<svg width="71" height="71" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><path d="M134 401 205 401 205 472 134 472Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath><clipPath id="clip1"><path d="M135 401 205 401 205 471 135 471Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath><clipPath id="clip2"><path d="M135 401 205 401 205 471 135 471Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath><clipPath id="clip3"><path d="M135 401 205 401 205 471 135 471Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath></defs><g clip-path="url(#clip0)" transform="translate(-134 -401)"><path d="M143 436.5C143 422.417 154.641 411 169 411 183.359 411 195 422.417 195 436.5 195 450.583 183.359 462 169 462 154.641 462 143 450.583 143 436.5Z" fill="#FFFFFF" fill-rule="evenodd"/><g clip-path="url(#clip1)"><g clip-path="url(#clip2)"><g clip-path="url(#clip3)"><path d="M170 412.667C157.094 412.667 146.667 423.094 146.667 436 146.667 448.906 157.094 459.333 170 459.333 182.906 459.333 193.333 448.906 193.333 436 193.333 423.094 182.906 412.667 170 412.667ZM170 463.708C154.688 463.708 142.292 451.313 142.292 436 142.292 420.688 154.688 408.292 170 408.292 185.313 408.292 197.708 420.688 197.708 436 197.708 451.313 185.313 463.708 170 463.708Z" fill="#06B87C"/><path d="M184.583 430.167 175.833 430.167 175.833 421.417C175.833 419.813 174.521 418.5 172.917 418.5L167.083 418.5C165.479 418.5 164.167 419.813 164.167 421.417L164.167 430.167 155.417 430.167C153.813 430.167 152.5 431.479 152.5 433.083L152.5 438.917C152.5 440.521 153.813 441.833 155.417 441.833L164.167 441.833 164.167 450.583C164.167 452.188 165.479 453.5 167.083 453.5L172.917 453.5C174.521 453.5 175.833 452.188 175.833 450.583L175.833 441.833 184.583 441.833C186.188 441.833 187.5 440.521 187.5 438.917L187.5 433.083C187.5 431.479 186.188 430.167 184.583 430.167Z" fill="#06B87C"/></g></g></g></g></svg>':"Not available"===i.high_care?'<svg width="72" height="71" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><path d="M310 401 382 401 382 472 310 472Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath><clipPath id="clip1"><path d="M311 401 381 401 381 471 311 471Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath><clipPath id="clip2"><path d="M311 401 381 401 381 471 311 471Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath><clipPath id="clip3"><path d="M311 401 381 401 381 471 311 471Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath></defs><g clip-path="url(#clip0)" transform="translate(-310 -401)"><path d="M319 436.5C319 422.417 330.641 411 345 411 359.359 411 371 422.417 371 436.5 371 450.583 359.359 462 345 462 330.641 462 319 450.583 319 436.5Z" fill="#FFFFFF" fill-rule="evenodd"/><g clip-path="url(#clip1)"><g clip-path="url(#clip2)"><g clip-path="url(#clip3)"><path d="M346 412.667C333.094 412.667 322.667 423.094 322.667 436 322.667 448.906 333.094 459.333 346 459.333 358.906 459.333 369.333 448.906 369.333 436 369.333 423.094 358.906 412.667 346 412.667ZM346 463.708C330.688 463.708 318.292 451.313 318.292 436 318.292 420.688 330.688 408.292 346 408.292 361.313 408.292 373.708 420.688 373.708 436 373.708 451.313 361.313 463.708 346 463.708Z" fill="#C41C33"/><path d="M360.583 430.167 351.833 430.167 351.833 421.417C351.833 419.813 350.521 418.5 348.917 418.5L343.083 418.5C341.479 418.5 340.167 419.813 340.167 421.417L340.167 430.167 331.417 430.167C329.813 430.167 328.5 431.479 328.5 433.083L328.5 438.917C328.5 440.521 329.813 441.833 331.417 441.833L340.167 441.833 340.167 450.583C340.167 452.188 341.479 453.5 343.083 453.5L348.917 453.5C350.521 453.5 351.833 452.188 351.833 450.583L351.833 441.833 360.583 441.833C362.188 441.833 363.5 440.521 363.5 438.917L363.5 433.083C363.5 431.479 362.188 430.167 360.583 430.167Z" fill="#C41C33"/></g></g></g></g></svg>':"Limited"===i.high_care?'<svg width="72" height="71" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><path d="M220 401 292 401 292 472 220 472Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath><clipPath id="clip1"><path d="M221 401 291 401 291 471 221 471Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath><clipPath id="clip2"><path d="M221 401 291 401 291 471 221 471Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath><clipPath id="clip3"><path d="M221 401 291 401 291 471 221 471Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath></defs><g clip-path="url(#clip0)" transform="translate(-220 -401)"><path d="M229 436.5C229 422.417 240.641 411 255 411 269.359 411 281 422.417 281 436.5 281 450.583 269.359 462 255 462 240.641 462 229 450.583 229 436.5Z" fill="#FFFFFF" fill-rule="evenodd"/><g clip-path="url(#clip1)"><g clip-path="url(#clip2)"><g clip-path="url(#clip3)"><path d="M256 412.667C243.094 412.667 232.667 423.094 232.667 436 232.667 448.906 243.094 459.333 256 459.333 268.906 459.333 279.333 448.906 279.333 436 279.333 423.094 268.906 412.667 256 412.667ZM256 463.708C240.688 463.708 228.292 451.313 228.292 436 228.292 420.688 240.688 408.292 256 408.292 271.313 408.292 283.708 420.688 283.708 436 283.708 451.313 271.313 463.708 256 463.708Z" fill="#FAB800"/><path d="M270.583 430.167 261.833 430.167 261.833 421.417C261.833 419.813 260.521 418.5 258.917 418.5L253.083 418.5C251.479 418.5 250.167 419.813 250.167 421.417L250.167 430.167 241.417 430.167C239.813 430.167 238.5 431.479 238.5 433.083L238.5 438.917C238.5 440.521 239.813 441.833 241.417 441.833L250.167 441.833 250.167 450.583C250.167 452.188 251.479 453.5 253.083 453.5L258.917 453.5C260.521 453.5 261.833 452.188 261.833 450.583L261.833 441.833 270.583 441.833C272.188 441.833 273.5 440.521 273.5 438.917L273.5 433.083C273.5 431.479 272.188 430.167 270.583 430.167Z" fill="#FAB800"/></g></g></g></g></svg>':b.a;var n=new y.map.Icon(a,{size:{w:25,h:25},anchor:{x:10,y:10}}),l=new y.map.Marker(e.getPosition(),{icon:n,min:e.getMinZoom()});return l.setData(e.getData()),l.addEventListener("tap",(function(e){if(0===e.currentPointer.button){t.getBubbles().forEach((function(e){return t.removeBubble(e)}));var a=e.target.getData(),i=new y.ui.InfoBubble(e.target.getGeometry(),{content:'\n              <div style="min-width:250px">\n                <b>Hospital</b><br/>\n                '.concat(a.hospital_name,'\n                <br/>\n                <span style="font-size: 13px"><b>Address</b>: ').concat(a.address,'</span><br/>\n                <span style="font-size: 13px"><b>ICU low care</b>: ').concat(void 0===a.low_care?"no data":a.low_care,'</span><br/>\n                <span style="font-size: 13px"><b>ICU high care</b>: ').concat(void 0===a.high_care?"no data":a.high_care,'</span><br/>\n                <span style="font-size: 13px"><b>ECMO</b>: ').concat(void 0===a.ecmo?"no data":a.ecmo,"</span><br/>\n              </div>")});t.addBubble(i)}})),l}}},k=window.H,E=function(e,t){return{getClusterPresentation:function(t){var a,i=t.getWeight(),n=[],l=[],r=[];t.forEachDataPoint((function(e){switch(e.getData().low_care){case"Available":n.push(1);break;case"Limited":l.push(1);break;case"Not available":r.push(1)}})),r.length>=n.length&&r.length>=l.length?a='<svg width="58" height="55" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><path d="M466 276 524 276 524 331 466 331Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath></defs><g clip-path="url(#clip0)" transform="translate(-466 -276)"><path d="M500 324 477 312.5 477 288.5 500 277 523 288.5 523 312.5Z" fill="#C41C33" fill-rule="evenodd" fill-opacity="0.501961"/><path d="M489.5 328 466 316.25 466 292.75 489.5 281 513 292.75 513 316.25Z" fill="#C41C33" fill-rule="evenodd"/><text fill="#FFFFFF" font-family="FiraGO,FiraGO_MSFontService,sans-serif" font-weight="400" font-size="21" transform="translate(483.852 311)">{weight}</text></g></svg>':n.length>r.length&&n.length>l.length?a='<svg width="58" height="54" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><path d="M380 278 438 278 438 332 380 332Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath></defs><g clip-path="url(#clip0)" transform="translate(-380 -278)"><path d="M414.5 325 391 313.5 391 290.5 414.5 279 438 290.5 438 313.5Z" fill="#06B87C" fill-rule="evenodd" fill-opacity="0.501961"/><path d="M404 329 381 317.5 381 294.5 404 283 427 294.5 427 317.5Z" fill="#06B87C" fill-rule="evenodd"/><text fill="#FFFFFF" font-family="FiraGO,FiraGO_MSFontService,sans-serif" font-weight="400" font-size="21" transform="translate(398.518 313)">{weight}</text></g></svg>':l.length>=n.length&&l.length>r.length&&(a='<svg width="58" height="54" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><path d="M561 282 619 282 619 336 561 336Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath></defs><g clip-path="url(#clip0)" transform="translate(-561 -282)"><path d="M595.5 329 572 317.25 572 293.75 595.5 282 619 293.75 619 317.25Z" fill="#FAB800" fill-rule="evenodd" fill-opacity="0.501961"/><path d="M585 333 562 321.5 562 297.5 585 286 608 297.5 608 321.5Z" fill="#FAB800" fill-rule="evenodd"/><text fill="#FFFFFF" font-family="FiraGO,FiraGO_MSFontService,sans-serif" font-weight="400" font-size="21" transform="translate(579.42 316)">{weight}</text></g></svg>');var o=a.replace(/\{weight\}/g,i),c=new k.map.Icon(o,{size:{w:35,h:35}}),s=new k.map.Marker(t.getPosition(),{icon:c,min:t.getMinZoom(),max:t.getMaxZoom()});return s.setData(t),s.addEventListener("tap",(function(t){e.getViewModel().setLookAtData({zoom:t.target.getMax()+1,bounds:t.target.getGeometry()})})),s},getNoisePresentation:function(e){var a,i=e.getData();a="Available"===i.low_care?'<svg width="71" height="71" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><path d="M134 401 205 401 205 472 134 472Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath><clipPath id="clip1"><path d="M135 401 205 401 205 471 135 471Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath><clipPath id="clip2"><path d="M135 401 205 401 205 471 135 471Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath><clipPath id="clip3"><path d="M135 401 205 401 205 471 135 471Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath></defs><g clip-path="url(#clip0)" transform="translate(-134 -401)"><path d="M143 436.5C143 422.417 154.641 411 169 411 183.359 411 195 422.417 195 436.5 195 450.583 183.359 462 169 462 154.641 462 143 450.583 143 436.5Z" fill="#FFFFFF" fill-rule="evenodd"/><g clip-path="url(#clip1)"><g clip-path="url(#clip2)"><g clip-path="url(#clip3)"><path d="M170 412.667C157.094 412.667 146.667 423.094 146.667 436 146.667 448.906 157.094 459.333 170 459.333 182.906 459.333 193.333 448.906 193.333 436 193.333 423.094 182.906 412.667 170 412.667ZM170 463.708C154.688 463.708 142.292 451.313 142.292 436 142.292 420.688 154.688 408.292 170 408.292 185.313 408.292 197.708 420.688 197.708 436 197.708 451.313 185.313 463.708 170 463.708Z" fill="#06B87C"/><path d="M184.583 430.167 175.833 430.167 175.833 421.417C175.833 419.813 174.521 418.5 172.917 418.5L167.083 418.5C165.479 418.5 164.167 419.813 164.167 421.417L164.167 430.167 155.417 430.167C153.813 430.167 152.5 431.479 152.5 433.083L152.5 438.917C152.5 440.521 153.813 441.833 155.417 441.833L164.167 441.833 164.167 450.583C164.167 452.188 165.479 453.5 167.083 453.5L172.917 453.5C174.521 453.5 175.833 452.188 175.833 450.583L175.833 441.833 184.583 441.833C186.188 441.833 187.5 440.521 187.5 438.917L187.5 433.083C187.5 431.479 186.188 430.167 184.583 430.167Z" fill="#06B87C"/></g></g></g></g></svg>':"Not available"===i.low_care?'<svg width="72" height="71" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><path d="M310 401 382 401 382 472 310 472Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath><clipPath id="clip1"><path d="M311 401 381 401 381 471 311 471Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath><clipPath id="clip2"><path d="M311 401 381 401 381 471 311 471Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath><clipPath id="clip3"><path d="M311 401 381 401 381 471 311 471Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath></defs><g clip-path="url(#clip0)" transform="translate(-310 -401)"><path d="M319 436.5C319 422.417 330.641 411 345 411 359.359 411 371 422.417 371 436.5 371 450.583 359.359 462 345 462 330.641 462 319 450.583 319 436.5Z" fill="#FFFFFF" fill-rule="evenodd"/><g clip-path="url(#clip1)"><g clip-path="url(#clip2)"><g clip-path="url(#clip3)"><path d="M346 412.667C333.094 412.667 322.667 423.094 322.667 436 322.667 448.906 333.094 459.333 346 459.333 358.906 459.333 369.333 448.906 369.333 436 369.333 423.094 358.906 412.667 346 412.667ZM346 463.708C330.688 463.708 318.292 451.313 318.292 436 318.292 420.688 330.688 408.292 346 408.292 361.313 408.292 373.708 420.688 373.708 436 373.708 451.313 361.313 463.708 346 463.708Z" fill="#C41C33"/><path d="M360.583 430.167 351.833 430.167 351.833 421.417C351.833 419.813 350.521 418.5 348.917 418.5L343.083 418.5C341.479 418.5 340.167 419.813 340.167 421.417L340.167 430.167 331.417 430.167C329.813 430.167 328.5 431.479 328.5 433.083L328.5 438.917C328.5 440.521 329.813 441.833 331.417 441.833L340.167 441.833 340.167 450.583C340.167 452.188 341.479 453.5 343.083 453.5L348.917 453.5C350.521 453.5 351.833 452.188 351.833 450.583L351.833 441.833 360.583 441.833C362.188 441.833 363.5 440.521 363.5 438.917L363.5 433.083C363.5 431.479 362.188 430.167 360.583 430.167Z" fill="#C41C33"/></g></g></g></g></svg>':"Limited"===i.low_care?'<svg width="72" height="71" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><path d="M220 401 292 401 292 472 220 472Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath><clipPath id="clip1"><path d="M221 401 291 401 291 471 221 471Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath><clipPath id="clip2"><path d="M221 401 291 401 291 471 221 471Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath><clipPath id="clip3"><path d="M221 401 291 401 291 471 221 471Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath></defs><g clip-path="url(#clip0)" transform="translate(-220 -401)"><path d="M229 436.5C229 422.417 240.641 411 255 411 269.359 411 281 422.417 281 436.5 281 450.583 269.359 462 255 462 240.641 462 229 450.583 229 436.5Z" fill="#FFFFFF" fill-rule="evenodd"/><g clip-path="url(#clip1)"><g clip-path="url(#clip2)"><g clip-path="url(#clip3)"><path d="M256 412.667C243.094 412.667 232.667 423.094 232.667 436 232.667 448.906 243.094 459.333 256 459.333 268.906 459.333 279.333 448.906 279.333 436 279.333 423.094 268.906 412.667 256 412.667ZM256 463.708C240.688 463.708 228.292 451.313 228.292 436 228.292 420.688 240.688 408.292 256 408.292 271.313 408.292 283.708 420.688 283.708 436 283.708 451.313 271.313 463.708 256 463.708Z" fill="#FAB800"/><path d="M270.583 430.167 261.833 430.167 261.833 421.417C261.833 419.813 260.521 418.5 258.917 418.5L253.083 418.5C251.479 418.5 250.167 419.813 250.167 421.417L250.167 430.167 241.417 430.167C239.813 430.167 238.5 431.479 238.5 433.083L238.5 438.917C238.5 440.521 239.813 441.833 241.417 441.833L250.167 441.833 250.167 450.583C250.167 452.188 251.479 453.5 253.083 453.5L258.917 453.5C260.521 453.5 261.833 452.188 261.833 450.583L261.833 441.833 270.583 441.833C272.188 441.833 273.5 440.521 273.5 438.917L273.5 433.083C273.5 431.479 272.188 430.167 270.583 430.167Z" fill="#FAB800"/></g></g></g></g></svg>':b.a;var n=new k.map.Icon(a,{size:{w:25,h:25},anchor:{x:10,y:10}}),l=new k.map.Marker(e.getPosition(),{icon:n,min:e.getMinZoom()});return l.setData(e.getData()),l.addEventListener("tap",(function(e){if(0===e.currentPointer.button){t.getBubbles().forEach((function(e){return t.removeBubble(e)}));var a=e.target.getData(),i=new k.ui.InfoBubble(e.target.getGeometry(),{content:'\n              <div style="min-width:250px">\n                <b>Hospital</b><br/>\n                '.concat(a.hospital_name,'\n                <br/>\n                <span style="font-size: 13px"><b>Address</b>: ').concat(a.address,'</span><br/>\n                <span style="font-size: 13px"><b>ICU low care</b>: ').concat(void 0===a.low_care?"no data":a.low_care,'</span><br/>\n                <span style="font-size: 13px"><b>ICU high care</b>: ').concat(void 0===a.high_care?"no data":a.high_care,'</span><br/>\n                <span style="font-size: 13px"><b>ECMO</b>: ').concat(void 0===a.ecmo?"no data":a.ecmo,"</span><br/>\n              </div>")});t.addBubble(i)}})),l}}},M=window.H,F=function(e,t){return{getClusterPresentation:function(t){var a,i=t.getWeight(),n=[],l=[],r=[],o=[];t.forEachDataPoint((function(e){switch(e.getData().ecmo){case"Available":n.push(1);break;case"Limited":l.push(1);break;case"Not available":r.push(1);break;default:o.push(1)}})),o.length>=n.length&&o.length>=r.length&&o.length>=l.length?a='<svg width="58" height="55" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><path d="M93 190 151 190 151 245 93 245Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath></defs><g clip-path="url(#clip0)" transform="translate(-93 -190)"><path d="M127 238 104 226.5 104 202.5 127 191 150 202.5 150 226.5Z" fill="#B39CC9" fill-rule="evenodd" fill-opacity="0.721569"/><path d="M117 242 94.0001 230.5 94.0001 206.5 117 195 140 206.5 140 230.5Z" fill="#673A93" fill-rule="evenodd"/><text fill="#FFFFFF" font-family="FiraGO,FiraGO_MSFontService,sans-serif" font-weight="400" font-size="21" transform="translate(111.221 225)">{weight}</text></g></svg>':r.length>=n.length&&r.length>=l.length&&r.length>=o.length?a='<svg width="58" height="55" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><path d="M466 276 524 276 524 331 466 331Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath></defs><g clip-path="url(#clip0)" transform="translate(-466 -276)"><path d="M500 324 477 312.5 477 288.5 500 277 523 288.5 523 312.5Z" fill="#C41C33" fill-rule="evenodd" fill-opacity="0.501961"/><path d="M489.5 328 466 316.25 466 292.75 489.5 281 513 292.75 513 316.25Z" fill="#C41C33" fill-rule="evenodd"/><text fill="#FFFFFF" font-family="FiraGO,FiraGO_MSFontService,sans-serif" font-weight="400" font-size="21" transform="translate(483.852 311)">{weight}</text></g></svg>':n.length>r.length&&n.length>l.length&&n.length>o.length?a='<svg width="58" height="54" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><path d="M380 278 438 278 438 332 380 332Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath></defs><g clip-path="url(#clip0)" transform="translate(-380 -278)"><path d="M414.5 325 391 313.5 391 290.5 414.5 279 438 290.5 438 313.5Z" fill="#06B87C" fill-rule="evenodd" fill-opacity="0.501961"/><path d="M404 329 381 317.5 381 294.5 404 283 427 294.5 427 317.5Z" fill="#06B87C" fill-rule="evenodd"/><text fill="#FFFFFF" font-family="FiraGO,FiraGO_MSFontService,sans-serif" font-weight="400" font-size="21" transform="translate(398.518 313)">{weight}</text></g></svg>':l.length>=n.length&&l.length>r.length&&l.length>o.length&&(a='<svg width="58" height="54" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><path d="M561 282 619 282 619 336 561 336Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath></defs><g clip-path="url(#clip0)" transform="translate(-561 -282)"><path d="M595.5 329 572 317.25 572 293.75 595.5 282 619 293.75 619 317.25Z" fill="#FAB800" fill-rule="evenodd" fill-opacity="0.501961"/><path d="M585 333 562 321.5 562 297.5 585 286 608 297.5 608 321.5Z" fill="#FAB800" fill-rule="evenodd"/><text fill="#FFFFFF" font-family="FiraGO,FiraGO_MSFontService,sans-serif" font-weight="400" font-size="21" transform="translate(579.42 316)">{weight}</text></g></svg>');var c=a.replace(/\{weight\}/g,i),s=new M.map.Icon(c,{size:{w:35,h:35}}),d=new M.map.Marker(t.getPosition(),{icon:s,min:t.getMinZoom(),max:t.getMaxZoom()});return d.setData(t),d.addEventListener("tap",(function(t){e.getViewModel().setLookAtData({zoom:t.target.getMax()+1,bounds:t.target.getGeometry()})})),d},getNoisePresentation:function(e){var a,i=e.getData();try{a="Available"===i.ecmo?'<svg width="71" height="71" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><path d="M134 401 205 401 205 472 134 472Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath><clipPath id="clip1"><path d="M135 401 205 401 205 471 135 471Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath><clipPath id="clip2"><path d="M135 401 205 401 205 471 135 471Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath><clipPath id="clip3"><path d="M135 401 205 401 205 471 135 471Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath></defs><g clip-path="url(#clip0)" transform="translate(-134 -401)"><path d="M143 436.5C143 422.417 154.641 411 169 411 183.359 411 195 422.417 195 436.5 195 450.583 183.359 462 169 462 154.641 462 143 450.583 143 436.5Z" fill="#FFFFFF" fill-rule="evenodd"/><g clip-path="url(#clip1)"><g clip-path="url(#clip2)"><g clip-path="url(#clip3)"><path d="M170 412.667C157.094 412.667 146.667 423.094 146.667 436 146.667 448.906 157.094 459.333 170 459.333 182.906 459.333 193.333 448.906 193.333 436 193.333 423.094 182.906 412.667 170 412.667ZM170 463.708C154.688 463.708 142.292 451.313 142.292 436 142.292 420.688 154.688 408.292 170 408.292 185.313 408.292 197.708 420.688 197.708 436 197.708 451.313 185.313 463.708 170 463.708Z" fill="#06B87C"/><path d="M184.583 430.167 175.833 430.167 175.833 421.417C175.833 419.813 174.521 418.5 172.917 418.5L167.083 418.5C165.479 418.5 164.167 419.813 164.167 421.417L164.167 430.167 155.417 430.167C153.813 430.167 152.5 431.479 152.5 433.083L152.5 438.917C152.5 440.521 153.813 441.833 155.417 441.833L164.167 441.833 164.167 450.583C164.167 452.188 165.479 453.5 167.083 453.5L172.917 453.5C174.521 453.5 175.833 452.188 175.833 450.583L175.833 441.833 184.583 441.833C186.188 441.833 187.5 440.521 187.5 438.917L187.5 433.083C187.5 431.479 186.188 430.167 184.583 430.167Z" fill="#06B87C"/></g></g></g></g></svg>':"Not available"===i.ecmo?'<svg width="72" height="71" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><path d="M310 401 382 401 382 472 310 472Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath><clipPath id="clip1"><path d="M311 401 381 401 381 471 311 471Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath><clipPath id="clip2"><path d="M311 401 381 401 381 471 311 471Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath><clipPath id="clip3"><path d="M311 401 381 401 381 471 311 471Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath></defs><g clip-path="url(#clip0)" transform="translate(-310 -401)"><path d="M319 436.5C319 422.417 330.641 411 345 411 359.359 411 371 422.417 371 436.5 371 450.583 359.359 462 345 462 330.641 462 319 450.583 319 436.5Z" fill="#FFFFFF" fill-rule="evenodd"/><g clip-path="url(#clip1)"><g clip-path="url(#clip2)"><g clip-path="url(#clip3)"><path d="M346 412.667C333.094 412.667 322.667 423.094 322.667 436 322.667 448.906 333.094 459.333 346 459.333 358.906 459.333 369.333 448.906 369.333 436 369.333 423.094 358.906 412.667 346 412.667ZM346 463.708C330.688 463.708 318.292 451.313 318.292 436 318.292 420.688 330.688 408.292 346 408.292 361.313 408.292 373.708 420.688 373.708 436 373.708 451.313 361.313 463.708 346 463.708Z" fill="#C41C33"/><path d="M360.583 430.167 351.833 430.167 351.833 421.417C351.833 419.813 350.521 418.5 348.917 418.5L343.083 418.5C341.479 418.5 340.167 419.813 340.167 421.417L340.167 430.167 331.417 430.167C329.813 430.167 328.5 431.479 328.5 433.083L328.5 438.917C328.5 440.521 329.813 441.833 331.417 441.833L340.167 441.833 340.167 450.583C340.167 452.188 341.479 453.5 343.083 453.5L348.917 453.5C350.521 453.5 351.833 452.188 351.833 450.583L351.833 441.833 360.583 441.833C362.188 441.833 363.5 440.521 363.5 438.917L363.5 433.083C363.5 431.479 362.188 430.167 360.583 430.167Z" fill="#C41C33"/></g></g></g></g></svg>':"Limited"===i.ecmo?'<svg width="72" height="71" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><path d="M220 401 292 401 292 472 220 472Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath><clipPath id="clip1"><path d="M221 401 291 401 291 471 221 471Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath><clipPath id="clip2"><path d="M221 401 291 401 291 471 221 471Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath><clipPath id="clip3"><path d="M221 401 291 401 291 471 221 471Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath></defs><g clip-path="url(#clip0)" transform="translate(-220 -401)"><path d="M229 436.5C229 422.417 240.641 411 255 411 269.359 411 281 422.417 281 436.5 281 450.583 269.359 462 255 462 240.641 462 229 450.583 229 436.5Z" fill="#FFFFFF" fill-rule="evenodd"/><g clip-path="url(#clip1)"><g clip-path="url(#clip2)"><g clip-path="url(#clip3)"><path d="M256 412.667C243.094 412.667 232.667 423.094 232.667 436 232.667 448.906 243.094 459.333 256 459.333 268.906 459.333 279.333 448.906 279.333 436 279.333 423.094 268.906 412.667 256 412.667ZM256 463.708C240.688 463.708 228.292 451.313 228.292 436 228.292 420.688 240.688 408.292 256 408.292 271.313 408.292 283.708 420.688 283.708 436 283.708 451.313 271.313 463.708 256 463.708Z" fill="#FAB800"/><path d="M270.583 430.167 261.833 430.167 261.833 421.417C261.833 419.813 260.521 418.5 258.917 418.5L253.083 418.5C251.479 418.5 250.167 419.813 250.167 421.417L250.167 430.167 241.417 430.167C239.813 430.167 238.5 431.479 238.5 433.083L238.5 438.917C238.5 440.521 239.813 441.833 241.417 441.833L250.167 441.833 250.167 450.583C250.167 452.188 251.479 453.5 253.083 453.5L258.917 453.5C260.521 453.5 261.833 452.188 261.833 450.583L261.833 441.833 270.583 441.833C272.188 441.833 273.5 440.521 273.5 438.917L273.5 433.083C273.5 431.479 272.188 430.167 270.583 430.167Z" fill="#FAB800"/></g></g></g></g></svg>':b.a}catch(r){a=b.a}var n=new M.map.Icon(a,{size:{w:25,h:25},anchor:{x:10,y:10}}),l=new M.map.Marker(e.getPosition(),{icon:n,min:e.getMinZoom()});return l.setData(e.getData()),l.addEventListener("tap",(function(e){if(0===e.currentPointer.button){t.getBubbles().forEach((function(e){return t.removeBubble(e)}));var a=e.target.getData(),i=new M.ui.InfoBubble(e.target.getGeometry(),{content:'\n              <div style="min-width:250px">\n                <b>Hospital</b><br/>\n                '.concat(a.hospital_name,'\n                <br/>\n                <span style="font-size: 13px"><b>Address</b>: ').concat(a.address,'</span><br/>\n                <span style="font-size: 13px"><b>ICU low care</b>: ').concat(void 0===a.low_care?"no data":a.low_care,'</span><br/>\n                <span style="font-size: 13px"><b>ICU high care</b>: ').concat(void 0===a.high_care?"no data":a.high_care,'</span><br/>\n                <span style="font-size: 13px"><b>ECMO</b>: ').concat(void 0===a.ecmo?"no data":a.ecmo,"</span><br/>\n              </div>")});t.addBubble(i)}})),l}}},x=a(42),P=a.n(x),L=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(e){var i;return Object(u.a)(this,a),(i=t.call(this,e)).mapRef=n.a.createRef(),i.state={M:null,H:null},i.createClusterLayer=i.createClusterLayer.bind(Object(g.a)(i)),i.hospitalsClusterLayer=null,i.clusteredDataProvider=null,i.activeLayer=null,i}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,a,i,n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=window.H,(a={Platform:{},DefaultLayers:{},Map:{},TileService:{},TileLayer:{},Behavior:{},UI:{},Settings:{center:{lat:51.00684227163969,lng:8.794544921875},zoom:6,pixelRatio:window.pixelRatio||1,engineType:t.map.render.p2d},ZoomControl:{},MapSettingsControl:{},DistanceMeasurement:{},ZoomRectangle:{},ScaleBar:{},Hospitals:null}).Platform=new t.service.Platform({apikey:this.props.apikey}),a.DefaultLayers=a.Platform.createDefaultLayers(),a.TileService=a.Platform.getMapTileService({type:"traffic"}),a.TileLayer=a.TileService.createTileLayer("traffictile","normal.day",512,"png8",{}),a.TileLayer.setMin(6),a.Map=new t.Map(this.mapRef.current,a.TileLayer,a.Settings),a.Behavior=new t.mapevents.Behavior(new t.mapevents.MapEvents(a.Map)),a.Behavior.disable(t.mapevents.Behavior.Feature.FRACTIONAL_ZOOM),a.UI=new t.ui.UI(a.Map),a.ZoomControl=new t.ui.ZoomControl({fractionalZoom:!1,alignment:"right-middle"}),a.UI.addControl("zoom",a.ZoomControl),a.ZoomRectangle=new t.ui.ZoomRectangle({alignment:"right-middle"}),a.UI.addControl("zoomrectange",a.ZoomRectangle),i=new t.geo.Rect(55.92458580482951,2.197265625,45.27488643704891,17.402343749999996),a.Map.getViewModel().addEventListener("sync",(function(){var e=a.Map.getCenter();i.containsPoint(e)||(e.lat>i.getTop()?e.lat=i.getTop():e.lat<i.getBottom()&&(e.lat=i.getBottom()),e.lng<i.getLeft()?e.lng=i.getLeft():e.lng>i.getRight()&&(e.lng=i.getRight()),a.Map.setCenter(e))})),a.ScaleBar=new t.ui.ScaleBar({alignment:"bottom-right"}),a.UI.addControl("scalebar",a.ScaleBar),window.addEventListener("resize",(function(){a.Map.getViewPort().resize()})),a.Map.addEventListener("contextmenu",(function(e){return n.contextMenu(e)})),a.Map.addEventListener("tap",(function(e){e.target===a.Map&&a.UI.getBubbles().forEach((function(e){return a.UI.removeBubble(e)}))})),window.map=a.Map,this.setState(Object(p.a)({},a,{H:t}));case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.state.Map.dispose()}},{key:"contextMenu",value:function(e){var t=this.state,a=t.Map,i=t.H,n=this.props,l=n.calculateIsoline,r=n.clearIsoline,o=n.updateWaypoints,c=n.clearWaypoints,s=a.screenToGeo(e.viewportX,e.viewportY);e.items.push(new i.util.ContextItem({label:[Math.abs(s.lat.toFixed(4))+(s.lat>0?"N":"S"),Math.abs(s.lng.toFixed(4))+(s.lng>0?"E":"W")].join(" ")}),new i.util.ContextItem({label:"Center Map",callback:function(){a.setCenter(s,!0)}}),i.util.ContextItem.SEPARATOR,new i.util.ContextItem({label:"Calculate Isoline",callback:function(){l(s)}}),new i.util.ContextItem({label:"Clear Isoline",callback:function(){r()}}),i.util.ContextItem.SEPARATOR,new i.util.ContextItem({label:"Add waypoint",callback:function(){o(s)}}),new i.util.ContextItem({label:"Clear route",callback:function(){c(s)}}))}},{key:"styleRoute",value:function(e){var t=new window.H.map.Polyline(e,{style:{lineWidth:7,strokeColor:"rgba(0, 128, 255, 0.7)",lineTailCap:"arrow-tail",lineHeadCap:"arrow-head"}}),a=new window.H.map.Polyline(e,{style:{lineWidth:7,fillColor:"white",strokeColor:"rgba(255, 255, 255, 1)",lineDash:[0,2],lineTailCap:"arrow-tail",lineHeadCap:"arrow-head"}}),i=new window.H.map.Group;return i.addObjects([t,a]),i}},{key:"createClusterLayer",value:function(e,t){var a=this.state,i=a.Map,n=a.H,l=a.UI,r=[];return e.forEach((function(e){r.push(new n.clustering.DataPoint(e.geometry.coordinates[1],e.geometry.coordinates[0],{},e.properties))})),this.clusteredDataProvider=new n.clustering.Provider(r,{clusteringOptions:{strategy:n.clustering.Provider.Strategy.DYNAMICGRID,eps:32,minWeight:5}}),this.clusteredDataProvider.setTheme(t(i,l)),new n.map.layer.ObjectLayer(this.clusteredDataProvider)}},{key:"render",value:function(){var e=this.props,t=e.options,a=e.analytics,i=this.state,l=i.Map,r=i.H,o=i.UI;if(null!=l){if(null!=a.hospitals)if(null===this.hospitalsClusterLayer){switch(a.active_layer){case"low_care":this.activeLayer="low_care",this.hospitalsClusterLayer=this.createClusterLayer(a.hospitals.features,E);break;case"high_care":this.activeLayer="high_care",this.hospitalsClusterLayer=this.createClusterLayer(a.hospitals.features,C);break;case"ecmo":this.activeLayer="ecmo",this.hospitalsClusterLayer=this.createClusterLayer(a.hospitals.features,F)}l.addLayer(this.hospitalsClusterLayer,2)}else{switch(a.active_layer){case"low_care":"low_care"!==this.activeLayer&&(this.activeLayer="low_care",this.clusteredDataProvider.setTheme(E(l,o)));break;case"high_care":"high_care"!==this.activeLayer&&(this.activeLayer="high_care",this.clusteredDataProvider.setTheme(C(l,o)));break;case"ecmo":"ecmo"!==this.activeLayer&&(this.activeLayer="ecmo",this.clusteredDataProvider.setTheme(F(l,o)))}}if(l.removeObjects(l.getObjects()),0!==t.isoline.geometry.length){var c=new r.map.Marker({lat:t.isoline.marker.lat,lng:t.isoline.marker.lng},{icon:new r.map.Icon(P.a,{size:{w:20,h:20}})});l.addObject(c);var s=new r.geo.LineString;t.isoline.geometry.forEach((function(e){var t=e.split(",");s.pushPoint({lat:Number(t[0]),lng:Number(t[1])})}));var d=new r.map.Polygon(s,{style:{lineWidth:2,fillColor:"rgba(103, 58, 147, 0.3)",strokeColor:"#673A93",lineDash:[0,2]}});l.addObject(d)}if(t.waypoints.markers.forEach((function(e,t){var a='<svg width="60" height="64" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><path d="M493 466 553 466 553 530 493 530Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath></defs><g clip-path="url(#clip0)" transform="translate(-493 -466)"><path d="M498.5 496C498.5 482.469 509.693 471.5 523.5 471.5 537.307 471.5 548.5 482.469 548.5 496 548.5 509.531 537.307 520.5 523.5 520.5 509.693 520.5 498.5 509.531 498.5 496Z" stroke="#3F59A7" stroke-width="8.66667" stroke-miterlimit="8" fill="#FFFFFF" fill-rule="evenodd"/><text fill="#3F59A7" font-family="FiraGO,FiraGO_MSFontService,sans-serif" font-weight="700" font-size="27" transform="translate(516.775 507)">{weight}</text></g></svg>'.replace(/\{weight\}/g,t+1),i=new r.map.Marker({lat:e.lat,lng:e.lng},{icon:new r.map.Icon(a,{size:{w:30,h:30}})});l.addObject(i)})),0!==t.waypoints.geometry.length){var p=new r.geo.LineString;t.waypoints.geometry.forEach((function(e){p.pushPoint({lat:e[0],lng:e[1]})}));var h=this.styleRoute(p);l.addObject(h)}}return n.a.createElement("div",{className:"map",ref:this.mapRef})}}]),a}(i.Component),Z=a(44),_=a(17),N=a.n(_),O=(a(51),function(e){var t=e.analytics,a=e.changeActiveLayer,i=e.dropdownClick;return n.a.createElement("div",{className:"parameters"},n.a.createElement("lui-label",null,"Hospitals status"),null!==t.hospitals?n.a.createElement("lui-radiobutton-group",null,n.a.createElement("div",{className:"analytics-parameter-block"},n.a.createElement("div",{className:"analytics-item-row"},n.a.createElement("div",{className:"analytics-item-column"},t.dropdown.low_care?n.a.createElement("img",{className:"chevron-down-icon",onClick:function(){return i("low_care")},src:N.a}):n.a.createElement("img",{className:"chevron-right-icon",onClick:function(){return i("low_care")},src:N.a})),"low_care"===t.active_layer?n.a.createElement("lui-radiobutton",{checked:!0}," ICU low care "):n.a.createElement("lui-radiobutton",{onClick:function(){return a("low_care")}}," ICU low care ")),n.a.createElement("div",{className:t.dropdown.low_care?"analytics-item-row":"d-none"},n.a.createElement("div",{className:"analytics-item-column"},n.a.createElement("span",{className:"analytics-item-description"},"Intensive care beds without invasive ventilation (monitoring, possibly non-invasive ventilation possible)"),n.a.createElement("div",{className:"analytics-item-legend"},n.a.createElement("span",{className:"legend-item"},n.a.createElement("div",{className:"legend-marker-green"}),"Avalilable: ",t.statistics.low_care.available),n.a.createElement("span",{className:"legend-item"},n.a.createElement("div",{className:"legend-marker-yellow"}),"Limited: ",t.statistics.low_care.limited),n.a.createElement("span",{className:"legend-item"},n.a.createElement("div",{className:"legend-marker-red"}),"Not avalilable: ",t.statistics.low_care.not),n.a.createElement("span",{className:"legend-item"},n.a.createElement("div",{className:"legend-marker-purple"}),"No data: ",t.statistics.low_care.nodata))))),n.a.createElement("div",{className:"analytics-parameter-block"},n.a.createElement("div",{className:"analytics-item-row"},n.a.createElement("div",{className:"analytics-item-column"},t.dropdown.high_care?n.a.createElement("img",{className:"chevron-down-icon",onClick:function(){return i("high_care")},src:N.a}):n.a.createElement("img",{className:"chevron-right-icon",onClick:function(){return i("high_care")},src:N.a})),"high_care"===t.active_layer?n.a.createElement("lui-radiobutton",{checked:!0}," ICU high care "):n.a.createElement("lui-radiobutton",{onClick:function(){return a("high_care")}}," ICU high care ")),n.a.createElement("div",{className:t.dropdown.high_care?"analytics-item-row":"d-none"},n.a.createElement("div",{className:"analytics-item-column"},n.a.createElement("span",{className:"analytics-item-description"},"Intensive care beds with invasive ventilation (ventilation beds)"),n.a.createElement("div",{className:"analytics-item-legend"},n.a.createElement("span",{className:"legend-item"},n.a.createElement("div",{className:"legend-marker-green"}),"Avalilable: ",t.statistics.high_care.available),n.a.createElement("span",{className:"legend-item"},n.a.createElement("div",{className:"legend-marker-yellow"}),"Limited: ",t.statistics.high_care.limited),n.a.createElement("span",{className:"legend-item"},n.a.createElement("div",{className:"legend-marker-red"}),"Not avalilable: ",t.statistics.high_care.not),n.a.createElement("span",{className:"legend-item"},n.a.createElement("div",{className:"legend-marker-purple"}),"No data: ",t.statistics.high_care.nodata))))),n.a.createElement("div",{className:"analytics-parameter-block"},n.a.createElement("div",{className:"analytics-item-row"},n.a.createElement("div",{className:"analytics-item-column"},t.dropdown.ecmo?n.a.createElement("img",{className:"chevron-down-icon",onClick:function(){return i("ecmo")},src:N.a}):n.a.createElement("img",{className:"chevron-right-icon",onClick:function(){return i("ecmo")},src:N.a})),"ecmo"===t.active_layer?n.a.createElement("lui-radiobutton",{checked:!0}," ECMO "):n.a.createElement("lui-radiobutton",{onClick:function(){return a("ecmo")}}," ECMO ")),n.a.createElement("div",{className:t.dropdown.ecmo?"analytics-item-row":"d-none"},n.a.createElement("div",{className:"analytics-item-column"},n.a.createElement("span",{className:"analytics-item-description"},"Additional extracorporeal membrane oxygenation"),n.a.createElement("div",{className:"analytics-item-legend"},n.a.createElement("span",{className:"legend-item"},n.a.createElement("div",{className:"legend-marker-green"}),"Avalilable: ",t.statistics.ecmo.available),n.a.createElement("span",{className:"legend-item"},n.a.createElement("div",{className:"legend-marker-yellow"}),"Limited: ",t.statistics.ecmo.limited),n.a.createElement("span",{className:"legend-item"},n.a.createElement("div",{className:"legend-marker-red"}),"Not avalilable: ",t.statistics.ecmo.not),n.a.createElement("span",{className:"legend-item"},n.a.createElement("div",{className:"legend-marker-purple"}),"No data: ",t.statistics.ecmo.nodata)))))):n.a.createElement("div",{className:"spinner"},n.a.createElement("lui-spinner",{class:"lui-big"})))}),j=a(103),I=a(25),S=a.n(I),B=(a(52),a(53),function(e){var t=e.options,a=e.onChangeIsolineRange,i=e.clickRadioButtonParameter,l=e.dropdownClick;return n.a.createElement("div",{className:"parameters"},n.a.createElement("lui-label",null,"Routing parameters"),n.a.createElement("div",{className:"routing-parameter-block"},n.a.createElement("div",{className:"routing-item-row"},n.a.createElement("div",{className:"routing-item-column"},t.dropdown.waypoints?n.a.createElement("img",{className:"chevron-down-icon",onClick:function(){return l("waypoints")},src:S.a}):n.a.createElement("img",{className:"chevron-right-icon",onClick:function(){return l("waypoints")},src:S.a})),n.a.createElement("div",{className:"label-isoline"}," Waypoints parameters ")),n.a.createElement("div",{className:t.dropdown.waypoints?"routing-item-column parameters-content":"d-none"},n.a.createElement("div",null,n.a.createElement("lui-label",null,"Transport"),n.a.createElement("lui-radiobutton-group",{columns:"2"},"car"===t.waypoints.transport?n.a.createElement("lui-radiobutton",{checked:!0},"Car"):n.a.createElement("lui-radiobutton",{onClick:function(){return i("waypoints","transport","car")}},"Car"),"pedestrian"===t.waypoints.transport?n.a.createElement("lui-radiobutton",{checked:!0},"Pedestrian"):n.a.createElement("lui-radiobutton",{onClick:function(){return i("waypoints","transport","pedestrian")}},"Pedestrian")),n.a.createElement("lui-label",null,"Traffic"),n.a.createElement("lui-radiobutton-group",{columns:"2"},"enabled"===t.waypoints.traffic?n.a.createElement("lui-radiobutton",{checked:!0},"Enabled"):n.a.createElement("lui-radiobutton",{onClick:function(){return i("waypoints","traffic","enabled")}},"Enabled"),"disabled"===t.waypoints.traffic?n.a.createElement("lui-radiobutton",{checked:!0},"Disabled"):n.a.createElement("lui-radiobutton",{onClick:function(){return i("waypoints","traffic","disabled")}},"Disabled"))),n.a.createElement("div",{className:0!==t.waypoints.geometry.length?"d-block":"d-none"},n.a.createElement("a",{href:t.waypoints.url,target:"_blank"},n.a.createElement("lui-button",{secondary:!0},"Open navigation in HERE WeGo"))))),n.a.createElement("div",{className:"routing-parameter-block"},n.a.createElement("div",{className:"routing-item-row"},n.a.createElement("div",{className:"routing-item-column"},t.dropdown.isoline?n.a.createElement("img",{className:"chevron-down-icon",onClick:function(){return l("isoline")},src:S.a}):n.a.createElement("img",{className:"chevron-right-icon",onClick:function(){return l("isoline")},src:S.a})),n.a.createElement("div",{className:"label-isoline"}," Isoline parameters ")),n.a.createElement("div",{className:t.dropdown.isoline?"routing-item-column parameters-content":"d-none"},n.a.createElement("div",{className:"routing-item-row space-between"},n.a.createElement("div",{className:"routing-item-column"},n.a.createElement("lui-label",null,"Range")),n.a.createElement("div",{className:"routing-item-column"},n.a.createElement("lui-label",null,"time"===t.isoline.type?"".concat(t.isoline.range/60," min"):"".concat(t.isoline.range," m")))),n.a.createElement("div",{className:"routing-item-row"},n.a.createElement(j.a,{className:"slider",type:"range",id:"isoline-range",name:"isolineRange",min:"60",step:"120",max:"1860",value:t.isoline.range,onChange:function(e){return a(e.target.value)}})),n.a.createElement("div",{className:"parameters-content-item"},n.a.createElement("lui-label",null,"Transport"),n.a.createElement("lui-radiobutton-group",{columns:"2"},"car"===t.isoline.transport?n.a.createElement("lui-radiobutton",{checked:!0},"Car"):n.a.createElement("lui-radiobutton",{onClick:function(){return i("isoline","transport","car")}},"Car"),"pedestrian"===t.isoline.transport?n.a.createElement("lui-radiobutton",{checked:!0},"Pedestrian"):n.a.createElement("lui-radiobutton",{onClick:function(){return i("isoline","transport","pedestrian")}},"Pedestrian")),n.a.createElement("lui-label",null,"Mode"),n.a.createElement("lui-radiobutton-group",{columns:"2"},"time"===t.isoline.type?n.a.createElement("lui-radiobutton",{checked:!0},"Time"):n.a.createElement("lui-radiobutton",{onClick:function(){return i("isoline","type","time")}},"Time"),"distance"===t.isoline.type?n.a.createElement("lui-radiobutton",{checked:!0},"Distance"):n.a.createElement("lui-radiobutton",{onClick:function(){return i("isoline","type","distance")}},"Distance")),n.a.createElement("lui-label",null,"Traffic"),n.a.createElement("lui-radiobutton-group",{columns:"2"},"enabled"===t.isoline.traffic?n.a.createElement("lui-radiobutton",{checked:!0},"Enabled"):n.a.createElement("lui-radiobutton",{onClick:function(){return i("isoline","traffic","enabled")}},"Enabled"),"disabled"===t.isoline.traffic?n.a.createElement("lui-radiobutton",{checked:!0},"Disabled"):n.a.createElement("lui-radiobutton",{onClick:function(){return i("isoline","traffic","disabled")}},"Disabled"))))))}),A=a(26),R=a.n(A),D=(a(56),function(e){var t=Object(i.useState)(!0),a=Object(Z.a)(t,2),l=a[0],r=a[1],o=e.analytics,c=e.changeActiveLayer,s=e.changeMode,d=e.options,p=e.dropdownClick,h=e.onChangeIsolineRange,u=e.clickRadioButtonParameter;return n.a.createElement("div",{className:l?"sidebar":"sidebar-collapse"},n.a.createElement("lui-navigation",null,n.a.createElement("lui-productlogo",{slot:"productlogo"},"HERE4Life"),n.a.createElement("lui-label",{slot:"controls",onClick:function(){return r(!l)},className:"lui-small"},!0===l?n.a.createElement("slot",{name:"icon"},n.a.createElement("img",{className:"chevron-down",src:R.a})):n.a.createElement("slot",{name:"icon"},n.a.createElement("img",{className:"chevron-left",src:R.a}))),n.a.createElement("lui-label",{slot:"controls-mobile",onClick:function(){return r(!l)},className:"lui-small"},!0===l?n.a.createElement("slot",{name:"icon"},n.a.createElement("img",{className:"chevron-down",src:R.a})):n.a.createElement("slot",{name:"icon"},n.a.createElement("img",{className:"chevron-left",src:R.a})))),n.a.createElement("div",{className:l?"d-block":"d-none"},n.a.createElement("div",{className:"switch-options"},n.a.createElement("div",{onClick:function(){return s("analytics")},className:"analytics"===o.mode?"tab-btn tab-active":"tab-btn"},"Analytics"),n.a.createElement("div",{onClick:function(){return s("routing")},className:"routing"===o.mode?"tab-btn tab-active":"tab-btn"},"Routing")),"analytics"===o.mode?n.a.createElement(O,{analytics:o,changeActiveLayer:c,dropdownClick:p}):n.a.createElement(B,{options:d,clickRadioButtonParameter:u,onChangeIsolineRange:h,dropdownClick:p})))}),z=a(15),G=a.n(z),T="RliX7Bx5RRCG-L2Lu0a5ktiAkc9qkbY2rXysdif3pdo",W="AGNjdAWKRUiLFDvPtnVM-AA",U={german_hospitals:"v6fbBS5z",german_warehouses:"hoCxTKFb"},H=(a(74),function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(e){var i;return Object(u.a)(this,a),(i=t.call(this,e)).state={suggestions:[],searchText:""},i}return Object(m.a)(a,[{key:"geocode",value:function(e){var t=this,a="https://geocoder.ls.hereapi.com/6.2/geocode.json"+"?locationid=".concat(e,"&apikey=").concat(T);G.a.get(a).then((function(e){var a=e.data.Response.View[0].Result[0].Location.DisplayPosition.Latitude,i=e.data.Response.View[0].Result[0].Location.DisplayPosition.Longitude;window.map.setCenter({lat:a,lng:i}),window.map.setZoom(17),t.setState({searchText:"",geocoderResults:[],suggestions:[]})}))}},{key:"onChangeSearch",value:function(e){var t=this;this.setState({searchText:e});var a="https://autocomplete.geocoder.ls.hereapi.com/6.2/suggest.json"+"?query=".concat(e)+"&apikey=".concat(T)+"&maxresults=5";G.a.get(a).then((function(e){t.setState({suggestions:e.data.suggestions})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.searchText,i=t.suggestions;return n.a.createElement("div",{className:"search-container"},n.a.createElement("lui-default-theme",null,n.a.createElement("div",{style:{background:"#fff"}},n.a.createElement("lui-search",{placeholder:"Search"},n.a.createElement("input",{onChange:function(t){return e.onChangeSearch(t.currentTarget.value)},type:"text",value:a}))),n.a.createElement("div",{className:"suggestions-list"},n.a.createElement("lui-menu",{style:{display:void 0!==i&&0!==i.length?"block":"none",height:"auto",width:"400px",maxWidth:"400px"}},void 0!==i?i.map((function(t,a){return n.a.createElement("lui-menuitem",{key:a,onClick:function(){return e.geocode(t.locationId)}},t.label)})):n.a.createElement("div",null)))))}}]),a}(i.Component)),V=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(e){var i;return Object(u.a)(this,a),(i=t.call(this,e)).state={apikey:T,analytics:{mode:"analytics",active_layer:"low_care",hospitals:null,statistics:null,dropdown:{low_care:!0,high_care:!0,ecmo:!0}},options:{dropdown:{isoline:!0,waypoints:!0},isoline:{range:300,type:"time",transport:"car",traffic:"enabled",geometry:[],marker:{lat:null,lng:null}},waypoints:{url:"",transport:"car",traffic:"enabled",markers:[],geometry:[]}}},i.changeActiveLayer=i.changeActiveLayer.bind(Object(g.a)(i)),i.changeMode=i.changeMode.bind(Object(g.a)(i)),i.dropdownClick=i.dropdownClick.bind(Object(g.a)(i)),i.onChangeIsolineRange=i.onChangeIsolineRange.bind(Object(g.a)(i)),i.clickRadioButtonParameter=i.clickRadioButtonParameter.bind(Object(g.a)(i)),i.calculateIsoline=i.calculateIsoline.bind(Object(g.a)(i)),i.clearIsoline=i.clearIsoline.bind(Object(g.a)(i)),i.calculateRoute=i.calculateRoute.bind(Object(g.a)(i)),i.updateWaypoints=i.updateWaypoints.bind(Object(g.a)(i)),i.clearWaypoints=i.clearWaypoints.bind(Object(g.a)(i)),i}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.__getSpaceFeatures(U.german_hospitals),setInterval((function(){e.__getSpaceFeatures(U.german_hospitals)}),36e5)}},{key:"__getSpaceFeatures",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var a,i,n,l,r,o,c,s,h,u,m,g,f,v;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://xyz.api.here.com/hub/spaces/".concat(t,"/iterate?access_token=").concat(W),e.next=3,G.a.get(a);case 3:i=e.sent,n=i.data.features.filter((function(e){return"Available"===e.properties.low_care})).length,l=i.data.features.filter((function(e){return"Available"===e.properties.high_care})).length,r=i.data.features.filter((function(e){return"Available"===e.properties.ecmo})).length,o=i.data.features.filter((function(e){return"Limited"===e.properties.low_care})).length,c=i.data.features.filter((function(e){return"Limited"===e.properties.high_care})).length,s=i.data.features.filter((function(e){return"Limited"===e.properties.ecmo})).length,h=i.data.features.filter((function(e){return"Not available"===e.properties.low_care})).length,u=i.data.features.filter((function(e){return"Not available"===e.properties.high_care})).length,m=i.data.features.filter((function(e){return"Not available"===e.properties.ecmo})).length,g=i.data.features.filter((function(e){return"Not available"!==e.properties.low_care&&"Available"!==e.properties.low_care&&"Limited"!==e.properties.low_care})).length,f=i.data.features.filter((function(e){return"Not available"!==e.properties.high_care&&"Available"!==e.properties.high_care&&"Limited"!==e.properties.high_care})).length,v=i.data.features.filter((function(e){return"Not available"!==e.properties.ecmo&&"Available"!==e.properties.ecmo&&"Limited"!==e.properties.ecmo})).length,this.setState({analytics:Object(p.a)({},this.state.analytics,{hospitals:i.data,statistics:{low_care:{available:n,limited:o,not:h,nodata:g},high_care:{available:l,limited:c,not:u,nodata:f},ecmo:{available:r,limited:s,not:m,nodata:v}}})});case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeActiveLayer",value:function(e){this.setState({analytics:Object(p.a)({},this.state.analytics,{active_layer:e})})}},{key:"changeMode",value:function(e){this.setState({analytics:Object(p.a)({},this.state.analytics,{mode:e})})}},{key:"dropdownClick",value:function(e){switch(e){case"low_care":this.setState({analytics:Object(p.a)({},this.state.analytics,{dropdown:Object(p.a)({},this.state.analytics.dropdown,{low_care:!this.state.analytics.dropdown.low_care})})});break;case"high_care":this.setState({analytics:Object(p.a)({},this.state.analytics,{dropdown:Object(p.a)({},this.state.analytics.dropdown,{high_care:!this.state.analytics.dropdown.high_care})})});break;case"ecmo":this.setState({analytics:Object(p.a)({},this.state.analytics,{dropdown:Object(p.a)({},this.state.analytics.dropdown,{ecmo:!this.state.analytics.dropdown.ecmo})})});break;case"isoline":this.setState({options:Object(p.a)({},this.state.options,{dropdown:Object(p.a)({},this.state.options.dropdown,{isoline:!this.state.options.dropdown.isoline})})});break;case"waypoints":this.setState({options:Object(p.a)({},this.state.options,{dropdown:Object(p.a)({},this.state.options.dropdown,{waypoints:!this.state.options.dropdown.waypoints})})})}}},{key:"onChangeIsolineRange",value:function(e){var t=this;this.setState((function(t,a){return{options:Object(p.a)({},t.options,{isoline:Object(p.a)({},t.options.isoline,{range:e})})}}),(function(){t.calculateIsoline(t.state.options.isoline.marker)}))}},{key:"clickRadioButtonParameter",value:function(e,t,a){var i=this;this.setState((function(i,n){return{options:Object(p.a)({},i.options,Object(c.a)({},e,Object(p.a)({},i.options[e],Object(c.a)({},t,a))))}}),(function(){"isoline"===e?i.calculateIsoline(i.state.options.isoline.marker):"waypoints"===e&&i.calculateRoute()}))}},{key:"calculateIsoline",value:function(e){var t=this,a=this.state.options.isoline;if(null!==e.lat||null!==e.lng){var i="https://isoline.route.ls.hereapi.com/routing/7.2/calculateisoline.json?"+"apikey=".concat(T,"&mode=fastest;").concat(a.transport,";traffic:").concat(a.traffic,"&rangetype=").concat(a.type,"&range=").concat(a.range,"&start=geo!").concat(e.lat,",").concat(e.lng);G.a.get(i).then((function(a){null!==a.data.response&&t.setState((function(t,i){return{options:Object(p.a)({},t.options,{isoline:Object(p.a)({},t.options.isoline,{geometry:a.data.response.isoline[0].component[0].shape,marker:{lat:e.lat,lng:e.lng}})})}}))}),(function(e){console.log(e)}))}}},{key:"clearIsoline",value:function(){this.setState((function(e,t){return{options:Object(p.a)({},e.options,{isoline:Object(p.a)({},e.options.isoline,{marker:{lat:null,lng:null},geometry:[]})})}}))}},{key:"updateWaypoints",value:function(e){var t=this;this.setState((function(t,a){return{options:Object(p.a)({},t.options,{waypoints:Object(p.a)({},t.options.waypoints,{markers:[].concat(Object(o.a)(t.options.waypoints.markers),[e])})})}}),(function(){t.calculateRoute()}))}},{key:"clearWaypoints",value:function(){this.setState((function(e,t){return{options:Object(p.a)({},e.options,{waypoints:Object(p.a)({},e.options.waypoints,{markers:[],geometry:[]})})}}))}},{key:"__getWaypointsSequence",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,a,i,n,l,r,o,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.options.waypoints,a=t.transport,i=t.markers,n="https://wse.ls.hereapi.com/2/findsequence.json?",1!==i.length){e.next=4;break}return e.abrupt("return");case 4:return l=i.map((function(e,t){return 0===t?"start=".concat(t,";").concat(e.lat,",").concat(e.lng):t===i.length-1?"end=".concat(t,";").concat(e.lat,",").concat(e.lng):"destination".concat(t,"=").concat(t,";").concat(e.lat,",").concat(e.lng)})).join("&"),r="".concat(n,"apikey=").concat(T,"&mode=fastest;").concat(a,"&").concat(l),e.next=8,G.a.get(r);case 8:return o=e.sent,c=o.data.results[0].waypoints.map((function(e,t){return{lat:e.lat,lng:e.lng}})),console.log(c),e.abrupt("return",c);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"__createWeGoLink",value:function(){var e=this.state.options.waypoints,t=e.markers,a=e.transport,i=t.map((function(e){return"/".concat(e.lat,",").concat(e.lng)})).join(""),n="car"===a?"d":"w";return"".concat("https://share.here.com/r").concat(i,"?m=").concat(n)}},{key:"calculateRoute",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,a,i,n,l,r,o,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.options.waypoints,a="https://route.ls.hereapi.com/routing/7.2/calculateroute.json?",1!==t.markers.length){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this.__getWaypointsSequence();case 6:return i=e.sent,n=i.map((function(e,t){return"waypoint".concat(t,"=geo!").concat(e.lat,",").concat(e.lng)})).join("&"),l="".concat(a,"apikey=").concat(T,"&mode=fastest;").concat(t.transport,";traffic:").concat(t.traffic,"&routeattributes=sh&").concat(n),e.next=11,G.a.get(l);case 11:r=e.sent,o=r.data.response.route[0].shape.map((function(e,t){return e.split(",").map(Number)})),c=this.__createWeGoLink(),this.setState({analytics:Object(p.a)({},this.state.analytics,{mode:"routing"}),options:Object(p.a)({},this.state.options,{waypoints:Object(p.a)({},this.state.options.waypoints,{geometry:o,markers:i,url:c})})});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.apikey,a=e.analytics,i=e.options;return n.a.createElement("lui-default-theme",null,n.a.createElement(L,{apikey:t,options:i,analytics:a,clearIsoline:this.clearIsoline,calculateRoute:this.calculateRoute,clearWaypoints:this.clearWaypoints,updateWaypoints:this.updateWaypoints,calculateIsoline:this.calculateIsoline}),n.a.createElement(D,{options:i,analytics:a,changeMode:this.changeMode,dropdownClick:this.dropdownClick,changeActiveLayer:this.changeActiveLayer,onChangeIsolineRange:this.onChangeIsolineRange,clickRadioButtonParameter:this.clickRadioButtonParameter}),n.a.createElement(H,null))}}]),a}(i.Component);a(75),a(76),a(77),a(82),a(88),a(89),a(90),a(91),a(92),a(93),a(94),a(95),a(96),a(97),a(98),a(99),a(100);r.a.render(n.a.createElement(V,null),document.getElementById("root"))},16:function(e,t,a){e.exports=a.p+"static/media/hospitals-purple.ad03499f.svg"},17:function(e,t,a){e.exports=a.p+"static/media/LUI-icon-pd-chevron_down-solid-16.2186a203.svg"},25:function(e,t,a){e.exports=a.p+"static/media/LUI-icon-pd-chevron_down-solid-16.2186a203.svg"},26:function(e,t,a){e.exports=a.p+"static/media/LUI-icon-pd-chevron_left_double-solid-24.79559244.svg"},42:function(e,t,a){e.exports=a.p+"static/media/isoline-icon.f6f6175d.svg"},45:function(e,t,a){e.exports=a(101)},51:function(e,t,a){},53:function(e,t,a){},56:function(e,t,a){},74:function(e,t,a){}},[[45,1,2]]]);
//# sourceMappingURL=main.e4aa18d5.chunk.js.map