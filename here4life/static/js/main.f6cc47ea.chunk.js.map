{"version":3,"sources":["components/Map/icons/hospitals-purple.svg","components/Analytics/icons/LUI-icon-pd-chevron_down-solid-16.svg","components/Routing/icons/LUI-icon-pd-chevron_down-solid-16.svg","components/Sidebar/icons/LUI-icon-pd-chevron_left_double-solid-24.svg","components/Map/icons/isoline-icon.svg","components/Map/theme/high_care_theme.js","components/Map/theme/low_care_theme.js","components/Map/theme/ecmo_theme.js","components/Map/index.js","components/Analytics/index.js","components/Routing/index.js","components/Sidebar/index.js","assets/js/config.js","components/Search/index.js","components/App/index.js","index.js"],"names":["module","exports","H","window","high_care_theme","map","ui","getClusterPresentation","cluster","clusterSvgTemplate","weight","getWeight","available","limited","not_available","forEachDataPoint","e","getData","high_care","push","length","svgString","replace","clusterIcon","Icon","size","w","h","clusterMarker","Marker","getPosition","icon","min","getMinZoom","max","getMaxZoom","setData","addEventListener","evt","getViewModel","setLookAtData","zoom","target","getMax","bounds","getGeometry","getNoisePresentation","noisePoint","status_icon","properties","mark_icon","noiseIcon","anchor","x","y","noiseMarker","getBubbles","forEach","bubble","removeBubble","data","InfoBubble","content","hospital_name","address","undefined","low_care","ecmo","addBubble","low_care_theme","ecmo_theme","no_data","Map","props","mapRef","React","createRef","state","M","createClusterLayer","bind","hospitalsClusterLayer","clusteredDataProvider","activeLayer","Platform","DefaultLayers","TileService","TileLayer","Behavior","UI","Settings","center","lat","lng","pixelRatio","engineType","render","p2d","ZoomControl","MapSettingsControl","DistanceMeasurement","ZoomRectangle","ScaleBar","Hospitals","service","apikey","this","createDefaultLayers","getMapTileService","type","createTileLayer","setMin","current","mapevents","MapEvents","disable","Feature","FRACTIONAL_ZOOM","fractionalZoom","alignment","addControl","getViewPort","resize","contextMenu","setState","dispose","changeIsolineMarker","clearIsoline","updateWaypoints","clearWaypoints","calculateRoute","coord","screenToGeo","viewportX","viewportY","items","util","ContextItem","label","Math","abs","toFixed","join","callback","setCenter","SEPARATOR","linestring","routeOutline","Polyline","style","lineWidth","strokeColor","lineTailCap","lineHeadCap","routeArrows","fillColor","lineDash","routeLine","Group","addObjects","features","theme","dataPoints","feature","clustering","DataPoint","geometry","coordinates","Provider","clusteringOptions","strategy","Strategy","FASTGRID","eps","setTheme","layer","ObjectLayer","options","analytics","hospitals","active_layer","addLayer","removeObjects","getObjects","isoline","marker","isoline_icon","addObject","geo","LineString","point","coords","split","pushPoint","Number","polygon","Polygon","waypoints","markers","i","lineString","styleRoute","className","ref","Component","Analytics","changeActiveLayer","dropdownClick","dropdown","onClick","src","chevronDown","checked","statistics","not","nodata","class","Routing","onChangeIsolineRange","clickCheckboxParameter","range","CustomInput","id","name","step","value","onChange","columns","transport","traffic","Sidebar","useState","show","setVisibility","changeMode","clickOptionDropdown","slot","svg","mode","config","german_hospitals","german_warehouses","Search","suggestions","searchText","locationId","geocoderUrl","axios","get","then","res","Response","View","Result","Location","DisplayPosition","Latitude","Longitude","setZoom","geocoderResults","geoUrl","background","placeholder","onChangeSearch","currentTarget","display","height","width","maxWidth","result","key","geocode","App","getSpaceFeatures","setInterval","spaceId","data_url","low_available","filter","item","high_available","ecmo_available","low_limited","high_limited","ecmo_limited","low_not","high_not","ecmo_not","low_nodata","high_nodata","ecmo_nodata","parameter","calculateIsoline","option","isolineRequest","response","component","shape","error","console","log","waypoint","waypointsToString","waypointsRequest","new_markers","results","routeToString","routeRequest","routeRes","polylineArray","route","checkBoxClick","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.f6cc47ea.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/hospitals-purple.ad03499f.svg\";","module.exports = __webpack_public_path__ + \"static/media/LUI-icon-pd-chevron_down-solid-16.2186a203.svg\";","module.exports = __webpack_public_path__ + \"static/media/LUI-icon-pd-chevron_down-solid-16.2186a203.svg\";","module.exports = __webpack_public_path__ + \"static/media/LUI-icon-pd-chevron_left_double-solid-24.79559244.svg\";","module.exports = __webpack_public_path__ + \"static/media/isoline-icon.f6f6175d.svg\";","import mark_icon from \"../icons/hospitals-purple.svg\"\r\n\r\nconst H = window.H\r\n\r\nexport const high_care_theme = (map, ui) => {\r\n    \r\n    return {\r\n        getClusterPresentation: cluster => {\r\n    \r\n          let weight = cluster.getWeight()\r\n    \r\n          let available = []\r\n          let limited = []\r\n          let not_available = []\r\n    \r\n          cluster.forEachDataPoint(e => {\r\n            switch ( e.getData().high_care ) {\r\n              case 'Available': \r\n                available.push(1)\r\n                break\r\n              \r\n              case 'Limited': \r\n                limited.push(1)\r\n                break\r\n    \r\n              case 'Not available': \r\n                not_available.push(1)\r\n                break\r\n            }\r\n          })\r\n    \r\n          \r\n          let clusterSvgTemplate\r\n    \r\n          if (not_available.length >= available.length && not_available.length >= limited.length ) {\r\n            clusterSvgTemplate = `<svg width=\"58\" height=\"55\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" overflow=\"hidden\"><defs><clipPath id=\"clip0\"><path d=\"M466 276 524 276 524 331 466 331Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath></defs><g clip-path=\"url(#clip0)\" transform=\"translate(-466 -276)\"><path d=\"M500 324 477 312.5 477 288.5 500 277 523 288.5 523 312.5Z\" fill=\"#C41C33\" fill-rule=\"evenodd\" fill-opacity=\"0.501961\"/><path d=\"M489.5 328 466 316.25 466 292.75 489.5 281 513 292.75 513 316.25Z\" fill=\"#C41C33\" fill-rule=\"evenodd\"/><text fill=\"#FFFFFF\" font-family=\"FiraGO,FiraGO_MSFontService,sans-serif\" font-weight=\"400\" font-size=\"21\" transform=\"translate(483.852 311)\">{weight}</text></g></svg>`\r\n    \r\n          } else if (available.length > not_available.length && available.length > limited.length) {\r\n    \r\n            clusterSvgTemplate = `<svg width=\"58\" height=\"54\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" overflow=\"hidden\"><defs><clipPath id=\"clip0\"><path d=\"M380 278 438 278 438 332 380 332Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath></defs><g clip-path=\"url(#clip0)\" transform=\"translate(-380 -278)\"><path d=\"M414.5 325 391 313.5 391 290.5 414.5 279 438 290.5 438 313.5Z\" fill=\"#06B87C\" fill-rule=\"evenodd\" fill-opacity=\"0.501961\"/><path d=\"M404 329 381 317.5 381 294.5 404 283 427 294.5 427 317.5Z\" fill=\"#06B87C\" fill-rule=\"evenodd\"/><text fill=\"#FFFFFF\" font-family=\"FiraGO,FiraGO_MSFontService,sans-serif\" font-weight=\"400\" font-size=\"21\" transform=\"translate(398.518 313)\">{weight}</text></g></svg>`\r\n    \r\n          } else if (limited.length >= available.length && limited.length > not_available.length) {\r\n            clusterSvgTemplate = `<svg width=\"58\" height=\"54\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" overflow=\"hidden\"><defs><clipPath id=\"clip0\"><path d=\"M561 282 619 282 619 336 561 336Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath></defs><g clip-path=\"url(#clip0)\" transform=\"translate(-561 -282)\"><path d=\"M595.5 329 572 317.25 572 293.75 595.5 282 619 293.75 619 317.25Z\" fill=\"#FAB800\" fill-rule=\"evenodd\" fill-opacity=\"0.501961\"/><path d=\"M585 333 562 321.5 562 297.5 585 286 608 297.5 608 321.5Z\" fill=\"#FAB800\" fill-rule=\"evenodd\"/><text fill=\"#FFFFFF\" font-family=\"FiraGO,FiraGO_MSFontService,sans-serif\" font-weight=\"400\" font-size=\"21\" transform=\"translate(579.42 316)\">{weight}</text></g></svg>`\r\n          }\r\n          \r\n          let svgString = clusterSvgTemplate.replace(/\\{weight\\}/g, weight)\r\n    \r\n          let clusterIcon = new H.map.Icon(svgString, {\r\n            size: {w: 35, h: 35},\r\n            // anchor: {x: radius, y: radius}\r\n          })\r\n    \r\n            // Create a marker for the cluster\r\n          let clusterMarker = new H.map.Marker(cluster.getPosition(), {\r\n              icon: clusterIcon,\r\n              min: cluster.getMinZoom(),\r\n              max: cluster.getMaxZoom()\r\n            })\r\n          clusterMarker.setData(cluster)\r\n    \r\n          clusterMarker.addEventListener('tap', evt => {\r\n            map.getViewModel().setLookAtData({\r\n              zoom: evt.target.getMax() + 1,\r\n              bounds: evt.target.getGeometry()\r\n          })\r\n            \r\n            \r\n          })\r\n    \r\n          return clusterMarker\r\n      },\r\n      getNoisePresentation: noisePoint => {\r\n        // debugger\r\n        let properties = noisePoint.getData()\r\n        let status_icon\r\n    \r\n        if (properties.high_care === \"Available\") {\r\n          status_icon = `<svg width=\"71\" height=\"71\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" overflow=\"hidden\"><defs><clipPath id=\"clip0\"><path d=\"M134 401 205 401 205 472 134 472Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath><clipPath id=\"clip1\"><path d=\"M135 401 205 401 205 471 135 471Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath><clipPath id=\"clip2\"><path d=\"M135 401 205 401 205 471 135 471Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath><clipPath id=\"clip3\"><path d=\"M135 401 205 401 205 471 135 471Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath></defs><g clip-path=\"url(#clip0)\" transform=\"translate(-134 -401)\"><path d=\"M143 436.5C143 422.417 154.641 411 169 411 183.359 411 195 422.417 195 436.5 195 450.583 183.359 462 169 462 154.641 462 143 450.583 143 436.5Z\" fill=\"#FFFFFF\" fill-rule=\"evenodd\"/><g clip-path=\"url(#clip1)\"><g clip-path=\"url(#clip2)\"><g clip-path=\"url(#clip3)\"><path d=\"M170 412.667C157.094 412.667 146.667 423.094 146.667 436 146.667 448.906 157.094 459.333 170 459.333 182.906 459.333 193.333 448.906 193.333 436 193.333 423.094 182.906 412.667 170 412.667ZM170 463.708C154.688 463.708 142.292 451.313 142.292 436 142.292 420.688 154.688 408.292 170 408.292 185.313 408.292 197.708 420.688 197.708 436 197.708 451.313 185.313 463.708 170 463.708Z\" fill=\"#06B87C\"/><path d=\"M184.583 430.167 175.833 430.167 175.833 421.417C175.833 419.813 174.521 418.5 172.917 418.5L167.083 418.5C165.479 418.5 164.167 419.813 164.167 421.417L164.167 430.167 155.417 430.167C153.813 430.167 152.5 431.479 152.5 433.083L152.5 438.917C152.5 440.521 153.813 441.833 155.417 441.833L164.167 441.833 164.167 450.583C164.167 452.188 165.479 453.5 167.083 453.5L172.917 453.5C174.521 453.5 175.833 452.188 175.833 450.583L175.833 441.833 184.583 441.833C186.188 441.833 187.5 440.521 187.5 438.917L187.5 433.083C187.5 431.479 186.188 430.167 184.583 430.167Z\" fill=\"#06B87C\"/></g></g></g></g></svg>`\r\n    \r\n        } else if (properties.high_care === \"Not available\") {\r\n          status_icon = `<svg width=\"72\" height=\"71\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" overflow=\"hidden\"><defs><clipPath id=\"clip0\"><path d=\"M310 401 382 401 382 472 310 472Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath><clipPath id=\"clip1\"><path d=\"M311 401 381 401 381 471 311 471Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath><clipPath id=\"clip2\"><path d=\"M311 401 381 401 381 471 311 471Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath><clipPath id=\"clip3\"><path d=\"M311 401 381 401 381 471 311 471Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath></defs><g clip-path=\"url(#clip0)\" transform=\"translate(-310 -401)\"><path d=\"M319 436.5C319 422.417 330.641 411 345 411 359.359 411 371 422.417 371 436.5 371 450.583 359.359 462 345 462 330.641 462 319 450.583 319 436.5Z\" fill=\"#FFFFFF\" fill-rule=\"evenodd\"/><g clip-path=\"url(#clip1)\"><g clip-path=\"url(#clip2)\"><g clip-path=\"url(#clip3)\"><path d=\"M346 412.667C333.094 412.667 322.667 423.094 322.667 436 322.667 448.906 333.094 459.333 346 459.333 358.906 459.333 369.333 448.906 369.333 436 369.333 423.094 358.906 412.667 346 412.667ZM346 463.708C330.688 463.708 318.292 451.313 318.292 436 318.292 420.688 330.688 408.292 346 408.292 361.313 408.292 373.708 420.688 373.708 436 373.708 451.313 361.313 463.708 346 463.708Z\" fill=\"#C41C33\"/><path d=\"M360.583 430.167 351.833 430.167 351.833 421.417C351.833 419.813 350.521 418.5 348.917 418.5L343.083 418.5C341.479 418.5 340.167 419.813 340.167 421.417L340.167 430.167 331.417 430.167C329.813 430.167 328.5 431.479 328.5 433.083L328.5 438.917C328.5 440.521 329.813 441.833 331.417 441.833L340.167 441.833 340.167 450.583C340.167 452.188 341.479 453.5 343.083 453.5L348.917 453.5C350.521 453.5 351.833 452.188 351.833 450.583L351.833 441.833 360.583 441.833C362.188 441.833 363.5 440.521 363.5 438.917L363.5 433.083C363.5 431.479 362.188 430.167 360.583 430.167Z\" fill=\"#C41C33\"/></g></g></g></g></svg>`\r\n    \r\n        } else if (properties.high_care === \"Limited\") {\r\n          \r\n          status_icon = `<svg width=\"72\" height=\"71\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" overflow=\"hidden\"><defs><clipPath id=\"clip0\"><path d=\"M220 401 292 401 292 472 220 472Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath><clipPath id=\"clip1\"><path d=\"M221 401 291 401 291 471 221 471Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath><clipPath id=\"clip2\"><path d=\"M221 401 291 401 291 471 221 471Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath><clipPath id=\"clip3\"><path d=\"M221 401 291 401 291 471 221 471Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath></defs><g clip-path=\"url(#clip0)\" transform=\"translate(-220 -401)\"><path d=\"M229 436.5C229 422.417 240.641 411 255 411 269.359 411 281 422.417 281 436.5 281 450.583 269.359 462 255 462 240.641 462 229 450.583 229 436.5Z\" fill=\"#FFFFFF\" fill-rule=\"evenodd\"/><g clip-path=\"url(#clip1)\"><g clip-path=\"url(#clip2)\"><g clip-path=\"url(#clip3)\"><path d=\"M256 412.667C243.094 412.667 232.667 423.094 232.667 436 232.667 448.906 243.094 459.333 256 459.333 268.906 459.333 279.333 448.906 279.333 436 279.333 423.094 268.906 412.667 256 412.667ZM256 463.708C240.688 463.708 228.292 451.313 228.292 436 228.292 420.688 240.688 408.292 256 408.292 271.313 408.292 283.708 420.688 283.708 436 283.708 451.313 271.313 463.708 256 463.708Z\" fill=\"#FAB800\"/><path d=\"M270.583 430.167 261.833 430.167 261.833 421.417C261.833 419.813 260.521 418.5 258.917 418.5L253.083 418.5C251.479 418.5 250.167 419.813 250.167 421.417L250.167 430.167 241.417 430.167C239.813 430.167 238.5 431.479 238.5 433.083L238.5 438.917C238.5 440.521 239.813 441.833 241.417 441.833L250.167 441.833 250.167 450.583C250.167 452.188 251.479 453.5 253.083 453.5L258.917 453.5C260.521 453.5 261.833 452.188 261.833 450.583L261.833 441.833 270.583 441.833C272.188 441.833 273.5 440.521 273.5 438.917L273.5 433.083C273.5 431.479 272.188 430.167 270.583 430.167Z\" fill=\"#FAB800\"/></g></g></g></g></svg>`\r\n          \r\n        } else {\r\n          status_icon = mark_icon\r\n        }\r\n    \r\n        var noiseIcon = new H.map.Icon(status_icon, {\r\n          size: { w: 20, h: 20 },\r\n          anchor: { x: 10, y: 10},\r\n        })\r\n    \r\n        var noiseMarker = new H.map.Marker(noisePoint.getPosition(), {\r\n          icon: noiseIcon,\r\n          min: noisePoint.getMinZoom()\r\n        })\r\n\r\n        noiseMarker.setData(noisePoint.getData())\r\n\r\n        noiseMarker.addEventListener('tap', evt => {\r\n          ui.getBubbles().forEach(bubble => ui.removeBubble(bubble))\r\n\r\n          let data = evt.target.getData()\r\n          // debugger\r\n          \r\n          let bubble =  new H.ui.InfoBubble(evt.target.getGeometry(), {\r\n            content: `\r\n            <div style=\"min-width:250px\">\r\n              <b>Hospital</b><br/>\r\n              ${data.hospital_name}\r\n              <br/>\r\n              <span style=\"font-size: 13px\"><b>Address</b>: ${data.address}</span><br/>\r\n              <span style=\"font-size: 13px\"><b>ICU low care</b>: ${data.low_care === undefined ? 'no data' : data.low_care }</span><br/>\r\n              <span style=\"font-size: 13px\"><b>ICU high care</b>: ${data.high_care === undefined ? 'no data' : data.high_care }</span><br/>\r\n              <span style=\"font-size: 13px\"><b>ECMO</b>: ${data.ecmo === undefined ? 'no data' : data.ecmo}</span><br/>\r\n            </div>`\r\n          })\r\n          // show info bubble\r\n          ui.addBubble(bubble)\r\n        })\r\n\r\n        \r\n        return noiseMarker\r\n      }\r\n    }\r\n} \r\n","import mark_icon from \"../icons/hospitals-purple.svg\"\r\n\r\nconst H = window.H\r\n\r\nexport const low_care_theme = (map, ui) => {\r\n    \r\n    return {\r\n        getClusterPresentation: cluster => {\r\n    \r\n          let weight = cluster.getWeight()\r\n    \r\n          let available = []\r\n          let limited = []\r\n          let not_available = []\r\n    \r\n          cluster.forEachDataPoint(e => {\r\n            switch ( e.getData().low_care ) {\r\n              case 'Available': \r\n                available.push(1)\r\n                break\r\n              \r\n              case 'Limited': \r\n                limited.push(1)\r\n                break\r\n    \r\n              case 'Not available': \r\n                not_available.push(1)\r\n                break\r\n            }\r\n          })\r\n    \r\n          \r\n          let clusterSvgTemplate\r\n    \r\n          if (not_available.length >= available.length && not_available.length >= limited.length ) {\r\n            clusterSvgTemplate = `<svg width=\"58\" height=\"55\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" overflow=\"hidden\"><defs><clipPath id=\"clip0\"><path d=\"M466 276 524 276 524 331 466 331Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath></defs><g clip-path=\"url(#clip0)\" transform=\"translate(-466 -276)\"><path d=\"M500 324 477 312.5 477 288.5 500 277 523 288.5 523 312.5Z\" fill=\"#C41C33\" fill-rule=\"evenodd\" fill-opacity=\"0.501961\"/><path d=\"M489.5 328 466 316.25 466 292.75 489.5 281 513 292.75 513 316.25Z\" fill=\"#C41C33\" fill-rule=\"evenodd\"/><text fill=\"#FFFFFF\" font-family=\"FiraGO,FiraGO_MSFontService,sans-serif\" font-weight=\"400\" font-size=\"21\" transform=\"translate(483.852 311)\">{weight}</text></g></svg>`\r\n    \r\n          } else if (available.length > not_available.length && available.length > limited.length) {\r\n    \r\n            clusterSvgTemplate = `<svg width=\"58\" height=\"54\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" overflow=\"hidden\"><defs><clipPath id=\"clip0\"><path d=\"M380 278 438 278 438 332 380 332Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath></defs><g clip-path=\"url(#clip0)\" transform=\"translate(-380 -278)\"><path d=\"M414.5 325 391 313.5 391 290.5 414.5 279 438 290.5 438 313.5Z\" fill=\"#06B87C\" fill-rule=\"evenodd\" fill-opacity=\"0.501961\"/><path d=\"M404 329 381 317.5 381 294.5 404 283 427 294.5 427 317.5Z\" fill=\"#06B87C\" fill-rule=\"evenodd\"/><text fill=\"#FFFFFF\" font-family=\"FiraGO,FiraGO_MSFontService,sans-serif\" font-weight=\"400\" font-size=\"21\" transform=\"translate(398.518 313)\">{weight}</text></g></svg>`\r\n    \r\n          } else if (limited.length >= available.length && limited.length > not_available.length) {\r\n            clusterSvgTemplate = `<svg width=\"58\" height=\"54\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" overflow=\"hidden\"><defs><clipPath id=\"clip0\"><path d=\"M561 282 619 282 619 336 561 336Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath></defs><g clip-path=\"url(#clip0)\" transform=\"translate(-561 -282)\"><path d=\"M595.5 329 572 317.25 572 293.75 595.5 282 619 293.75 619 317.25Z\" fill=\"#FAB800\" fill-rule=\"evenodd\" fill-opacity=\"0.501961\"/><path d=\"M585 333 562 321.5 562 297.5 585 286 608 297.5 608 321.5Z\" fill=\"#FAB800\" fill-rule=\"evenodd\"/><text fill=\"#FFFFFF\" font-family=\"FiraGO,FiraGO_MSFontService,sans-serif\" font-weight=\"400\" font-size=\"21\" transform=\"translate(579.42 316)\">{weight}</text></g></svg>`\r\n          }\r\n          \r\n          let svgString = clusterSvgTemplate.replace(/\\{weight\\}/g, weight)\r\n    \r\n          let clusterIcon = new H.map.Icon(svgString, {\r\n            size: {w: 35, h: 35},\r\n            // anchor: {x: radius, y: radius}\r\n          })\r\n    \r\n            // Create a marker for the cluster\r\n          let clusterMarker = new H.map.Marker(cluster.getPosition(), {\r\n              icon: clusterIcon,\r\n              min: cluster.getMinZoom(),\r\n              max: cluster.getMaxZoom()\r\n            })\r\n          clusterMarker.setData(cluster)\r\n    \r\n          clusterMarker.addEventListener('tap', evt => {\r\n            map.getViewModel().setLookAtData({\r\n              zoom: evt.target.getMax() + 1,\r\n              bounds: evt.target.getGeometry()\r\n          })\r\n             \r\n          })\r\n    \r\n          return clusterMarker\r\n      },\r\n      getNoisePresentation: noisePoint => {\r\n        // debugger\r\n        let properties = noisePoint.getData()\r\n        let status_icon\r\n    \r\n        if (properties.low_care === \"Available\") {\r\n          status_icon = `<svg width=\"71\" height=\"71\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" overflow=\"hidden\"><defs><clipPath id=\"clip0\"><path d=\"M134 401 205 401 205 472 134 472Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath><clipPath id=\"clip1\"><path d=\"M135 401 205 401 205 471 135 471Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath><clipPath id=\"clip2\"><path d=\"M135 401 205 401 205 471 135 471Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath><clipPath id=\"clip3\"><path d=\"M135 401 205 401 205 471 135 471Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath></defs><g clip-path=\"url(#clip0)\" transform=\"translate(-134 -401)\"><path d=\"M143 436.5C143 422.417 154.641 411 169 411 183.359 411 195 422.417 195 436.5 195 450.583 183.359 462 169 462 154.641 462 143 450.583 143 436.5Z\" fill=\"#FFFFFF\" fill-rule=\"evenodd\"/><g clip-path=\"url(#clip1)\"><g clip-path=\"url(#clip2)\"><g clip-path=\"url(#clip3)\"><path d=\"M170 412.667C157.094 412.667 146.667 423.094 146.667 436 146.667 448.906 157.094 459.333 170 459.333 182.906 459.333 193.333 448.906 193.333 436 193.333 423.094 182.906 412.667 170 412.667ZM170 463.708C154.688 463.708 142.292 451.313 142.292 436 142.292 420.688 154.688 408.292 170 408.292 185.313 408.292 197.708 420.688 197.708 436 197.708 451.313 185.313 463.708 170 463.708Z\" fill=\"#06B87C\"/><path d=\"M184.583 430.167 175.833 430.167 175.833 421.417C175.833 419.813 174.521 418.5 172.917 418.5L167.083 418.5C165.479 418.5 164.167 419.813 164.167 421.417L164.167 430.167 155.417 430.167C153.813 430.167 152.5 431.479 152.5 433.083L152.5 438.917C152.5 440.521 153.813 441.833 155.417 441.833L164.167 441.833 164.167 450.583C164.167 452.188 165.479 453.5 167.083 453.5L172.917 453.5C174.521 453.5 175.833 452.188 175.833 450.583L175.833 441.833 184.583 441.833C186.188 441.833 187.5 440.521 187.5 438.917L187.5 433.083C187.5 431.479 186.188 430.167 184.583 430.167Z\" fill=\"#06B87C\"/></g></g></g></g></svg>`\r\n    \r\n        } else if (properties.low_care === \"Not available\") {\r\n          status_icon = `<svg width=\"72\" height=\"71\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" overflow=\"hidden\"><defs><clipPath id=\"clip0\"><path d=\"M310 401 382 401 382 472 310 472Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath><clipPath id=\"clip1\"><path d=\"M311 401 381 401 381 471 311 471Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath><clipPath id=\"clip2\"><path d=\"M311 401 381 401 381 471 311 471Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath><clipPath id=\"clip3\"><path d=\"M311 401 381 401 381 471 311 471Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath></defs><g clip-path=\"url(#clip0)\" transform=\"translate(-310 -401)\"><path d=\"M319 436.5C319 422.417 330.641 411 345 411 359.359 411 371 422.417 371 436.5 371 450.583 359.359 462 345 462 330.641 462 319 450.583 319 436.5Z\" fill=\"#FFFFFF\" fill-rule=\"evenodd\"/><g clip-path=\"url(#clip1)\"><g clip-path=\"url(#clip2)\"><g clip-path=\"url(#clip3)\"><path d=\"M346 412.667C333.094 412.667 322.667 423.094 322.667 436 322.667 448.906 333.094 459.333 346 459.333 358.906 459.333 369.333 448.906 369.333 436 369.333 423.094 358.906 412.667 346 412.667ZM346 463.708C330.688 463.708 318.292 451.313 318.292 436 318.292 420.688 330.688 408.292 346 408.292 361.313 408.292 373.708 420.688 373.708 436 373.708 451.313 361.313 463.708 346 463.708Z\" fill=\"#C41C33\"/><path d=\"M360.583 430.167 351.833 430.167 351.833 421.417C351.833 419.813 350.521 418.5 348.917 418.5L343.083 418.5C341.479 418.5 340.167 419.813 340.167 421.417L340.167 430.167 331.417 430.167C329.813 430.167 328.5 431.479 328.5 433.083L328.5 438.917C328.5 440.521 329.813 441.833 331.417 441.833L340.167 441.833 340.167 450.583C340.167 452.188 341.479 453.5 343.083 453.5L348.917 453.5C350.521 453.5 351.833 452.188 351.833 450.583L351.833 441.833 360.583 441.833C362.188 441.833 363.5 440.521 363.5 438.917L363.5 433.083C363.5 431.479 362.188 430.167 360.583 430.167Z\" fill=\"#C41C33\"/></g></g></g></g></svg>`\r\n    \r\n        } else if (properties.low_care === \"Limited\") {\r\n          \r\n          status_icon = `<svg width=\"72\" height=\"71\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" overflow=\"hidden\"><defs><clipPath id=\"clip0\"><path d=\"M220 401 292 401 292 472 220 472Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath><clipPath id=\"clip1\"><path d=\"M221 401 291 401 291 471 221 471Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath><clipPath id=\"clip2\"><path d=\"M221 401 291 401 291 471 221 471Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath><clipPath id=\"clip3\"><path d=\"M221 401 291 401 291 471 221 471Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath></defs><g clip-path=\"url(#clip0)\" transform=\"translate(-220 -401)\"><path d=\"M229 436.5C229 422.417 240.641 411 255 411 269.359 411 281 422.417 281 436.5 281 450.583 269.359 462 255 462 240.641 462 229 450.583 229 436.5Z\" fill=\"#FFFFFF\" fill-rule=\"evenodd\"/><g clip-path=\"url(#clip1)\"><g clip-path=\"url(#clip2)\"><g clip-path=\"url(#clip3)\"><path d=\"M256 412.667C243.094 412.667 232.667 423.094 232.667 436 232.667 448.906 243.094 459.333 256 459.333 268.906 459.333 279.333 448.906 279.333 436 279.333 423.094 268.906 412.667 256 412.667ZM256 463.708C240.688 463.708 228.292 451.313 228.292 436 228.292 420.688 240.688 408.292 256 408.292 271.313 408.292 283.708 420.688 283.708 436 283.708 451.313 271.313 463.708 256 463.708Z\" fill=\"#FAB800\"/><path d=\"M270.583 430.167 261.833 430.167 261.833 421.417C261.833 419.813 260.521 418.5 258.917 418.5L253.083 418.5C251.479 418.5 250.167 419.813 250.167 421.417L250.167 430.167 241.417 430.167C239.813 430.167 238.5 431.479 238.5 433.083L238.5 438.917C238.5 440.521 239.813 441.833 241.417 441.833L250.167 441.833 250.167 450.583C250.167 452.188 251.479 453.5 253.083 453.5L258.917 453.5C260.521 453.5 261.833 452.188 261.833 450.583L261.833 441.833 270.583 441.833C272.188 441.833 273.5 440.521 273.5 438.917L273.5 433.083C273.5 431.479 272.188 430.167 270.583 430.167Z\" fill=\"#FAB800\"/></g></g></g></g></svg>`\r\n          \r\n        } else {\r\n          status_icon = mark_icon\r\n        }\r\n    \r\n        var noiseIcon = new H.map.Icon(status_icon, {\r\n          size: { w: 20, h: 20 },\r\n          anchor: { x: 10, y: 10},\r\n        })\r\n    \r\n        var noiseMarker = new H.map.Marker(noisePoint.getPosition(), {\r\n          icon: noiseIcon,\r\n          min: noisePoint.getMinZoom()\r\n        })\r\n        \r\n        noiseMarker.setData(noisePoint.getData())\r\n\r\n        noiseMarker.addEventListener('tap', evt => {\r\n          ui.getBubbles().forEach(bubble => ui.removeBubble(bubble))\r\n\r\n          let data = evt.target.getData()\r\n\r\n          \r\n          let bubble =  new H.ui.InfoBubble(evt.target.getGeometry(), {\r\n            content: `\r\n            <div style=\"min-width:250px\">\r\n              <b>Hospital</b><br/>\r\n              ${data.hospital_name}\r\n              <br/>\r\n              <span style=\"font-size: 13px\"><b>Address</b>: ${data.address}</span><br/>\r\n              <span style=\"font-size: 13px\"><b>ICU low care</b>: ${data.low_care === undefined ? 'no data' : data.low_care }</span><br/>\r\n              <span style=\"font-size: 13px\"><b>ICU high care</b>: ${data.high_care === undefined ? 'no data' : data.high_care }</span><br/>\r\n              <span style=\"font-size: 13px\"><b>ECMO</b>: ${data.ecmo === undefined ? 'no data' : data.ecmo}</span><br/>\r\n            </div>`\r\n          })\r\n          // show info bubble\r\n          ui.addBubble(bubble)\r\n        })\r\n        return noiseMarker\r\n      }\r\n    }\r\n} \r\n","import mark_icon from \"../icons/hospitals-purple.svg\"\r\n\r\nconst H = window.H\r\n\r\nexport const ecmo_theme = (map, ui) => {\r\n    \r\n    return {\r\n        getClusterPresentation: cluster => {\r\n    \r\n          let weight = cluster.getWeight()\r\n    \r\n          let available = []\r\n          let limited = []\r\n          let not_available = []\r\n          let no_data = []\r\n    \r\n          cluster.forEachDataPoint(e => {\r\n              // console.log()\r\n              switch ( e.getData().ecmo ) {\r\n                case 'Available': \r\n                  available.push(1)\r\n                  break\r\n                \r\n                case 'Limited': \r\n                  limited.push(1)\r\n                  break\r\n      \r\n                case 'Not available': \r\n                  not_available.push(1)\r\n                  break\r\n                default:\r\n                  no_data.push(1)\r\n                  break\r\n              }\r\n          })\r\n    \r\n          \r\n          let clusterSvgTemplate\r\n    \r\n          if (no_data.length >= available.length && no_data.length >= not_available.length && no_data.length >= limited.length ) {\r\n            \r\n            clusterSvgTemplate = `<svg width=\"58\" height=\"55\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" overflow=\"hidden\"><defs><clipPath id=\"clip0\"><path d=\"M93 190 151 190 151 245 93 245Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath></defs><g clip-path=\"url(#clip0)\" transform=\"translate(-93 -190)\"><path d=\"M127 238 104 226.5 104 202.5 127 191 150 202.5 150 226.5Z\" fill=\"#B39CC9\" fill-rule=\"evenodd\" fill-opacity=\"0.721569\"/><path d=\"M117 242 94.0001 230.5 94.0001 206.5 117 195 140 206.5 140 230.5Z\" fill=\"#673A93\" fill-rule=\"evenodd\"/><text fill=\"#FFFFFF\" font-family=\"FiraGO,FiraGO_MSFontService,sans-serif\" font-weight=\"400\" font-size=\"21\" transform=\"translate(111.221 225)\">{weight}</text></g></svg>`\r\n          \r\n          } else if (not_available.length >= available.length && not_available.length >= limited.length && not_available.length >= no_data.length ) {\r\n            \r\n            clusterSvgTemplate = `<svg width=\"58\" height=\"55\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" overflow=\"hidden\"><defs><clipPath id=\"clip0\"><path d=\"M466 276 524 276 524 331 466 331Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath></defs><g clip-path=\"url(#clip0)\" transform=\"translate(-466 -276)\"><path d=\"M500 324 477 312.5 477 288.5 500 277 523 288.5 523 312.5Z\" fill=\"#C41C33\" fill-rule=\"evenodd\" fill-opacity=\"0.501961\"/><path d=\"M489.5 328 466 316.25 466 292.75 489.5 281 513 292.75 513 316.25Z\" fill=\"#C41C33\" fill-rule=\"evenodd\"/><text fill=\"#FFFFFF\" font-family=\"FiraGO,FiraGO_MSFontService,sans-serif\" font-weight=\"400\" font-size=\"21\" transform=\"translate(483.852 311)\">{weight}</text></g></svg>`\r\n    \r\n          } else if (available.length > not_available.length && available.length > limited.length && available.length > no_data.length ) {\r\n    \r\n            clusterSvgTemplate = `<svg width=\"58\" height=\"54\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" overflow=\"hidden\"><defs><clipPath id=\"clip0\"><path d=\"M380 278 438 278 438 332 380 332Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath></defs><g clip-path=\"url(#clip0)\" transform=\"translate(-380 -278)\"><path d=\"M414.5 325 391 313.5 391 290.5 414.5 279 438 290.5 438 313.5Z\" fill=\"#06B87C\" fill-rule=\"evenodd\" fill-opacity=\"0.501961\"/><path d=\"M404 329 381 317.5 381 294.5 404 283 427 294.5 427 317.5Z\" fill=\"#06B87C\" fill-rule=\"evenodd\"/><text fill=\"#FFFFFF\" font-family=\"FiraGO,FiraGO_MSFontService,sans-serif\" font-weight=\"400\" font-size=\"21\" transform=\"translate(398.518 313)\">{weight}</text></g></svg>`\r\n    \r\n          } else if (limited.length >= available.length && limited.length > not_available.length && limited.length > no_data.length ) {\r\n            \r\n            clusterSvgTemplate = `<svg width=\"58\" height=\"54\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" overflow=\"hidden\"><defs><clipPath id=\"clip0\"><path d=\"M561 282 619 282 619 336 561 336Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath></defs><g clip-path=\"url(#clip0)\" transform=\"translate(-561 -282)\"><path d=\"M595.5 329 572 317.25 572 293.75 595.5 282 619 293.75 619 317.25Z\" fill=\"#FAB800\" fill-rule=\"evenodd\" fill-opacity=\"0.501961\"/><path d=\"M585 333 562 321.5 562 297.5 585 286 608 297.5 608 321.5Z\" fill=\"#FAB800\" fill-rule=\"evenodd\"/><text fill=\"#FFFFFF\" font-family=\"FiraGO,FiraGO_MSFontService,sans-serif\" font-weight=\"400\" font-size=\"21\" transform=\"translate(579.42 316)\">{weight}</text></g></svg>`\r\n          \r\n          }\r\n          \r\n          let svgString = clusterSvgTemplate.replace(/\\{weight\\}/g, weight)\r\n    \r\n          let clusterIcon = new H.map.Icon(svgString, {\r\n            size: {w: 35, h: 35},\r\n            // anchor: {x: radius, y: radius}\r\n          })\r\n    \r\n            // Create a marker for the cluster\r\n          let clusterMarker = new H.map.Marker(cluster.getPosition(), {\r\n              icon: clusterIcon,\r\n              min: cluster.getMinZoom(),\r\n              max: cluster.getMaxZoom()\r\n            })\r\n          clusterMarker.setData(cluster)\r\n    \r\n          clusterMarker.addEventListener('tap', evt => {\r\n            map.getViewModel().setLookAtData({\r\n              zoom: evt.target.getMax() + 1,\r\n              bounds: evt.target.getGeometry()\r\n          })\r\n            \r\n            \r\n          })\r\n    \r\n          return clusterMarker\r\n      },\r\n      getNoisePresentation: noisePoint => {\r\n        // debugger\r\n        let properties = noisePoint.getData()\r\n        let status_icon\r\n    \r\n        try {\r\n          if (properties.ecmo === \"Available\") {\r\n            status_icon = `<svg width=\"71\" height=\"71\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" overflow=\"hidden\"><defs><clipPath id=\"clip0\"><path d=\"M134 401 205 401 205 472 134 472Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath><clipPath id=\"clip1\"><path d=\"M135 401 205 401 205 471 135 471Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath><clipPath id=\"clip2\"><path d=\"M135 401 205 401 205 471 135 471Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath><clipPath id=\"clip3\"><path d=\"M135 401 205 401 205 471 135 471Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath></defs><g clip-path=\"url(#clip0)\" transform=\"translate(-134 -401)\"><path d=\"M143 436.5C143 422.417 154.641 411 169 411 183.359 411 195 422.417 195 436.5 195 450.583 183.359 462 169 462 154.641 462 143 450.583 143 436.5Z\" fill=\"#FFFFFF\" fill-rule=\"evenodd\"/><g clip-path=\"url(#clip1)\"><g clip-path=\"url(#clip2)\"><g clip-path=\"url(#clip3)\"><path d=\"M170 412.667C157.094 412.667 146.667 423.094 146.667 436 146.667 448.906 157.094 459.333 170 459.333 182.906 459.333 193.333 448.906 193.333 436 193.333 423.094 182.906 412.667 170 412.667ZM170 463.708C154.688 463.708 142.292 451.313 142.292 436 142.292 420.688 154.688 408.292 170 408.292 185.313 408.292 197.708 420.688 197.708 436 197.708 451.313 185.313 463.708 170 463.708Z\" fill=\"#06B87C\"/><path d=\"M184.583 430.167 175.833 430.167 175.833 421.417C175.833 419.813 174.521 418.5 172.917 418.5L167.083 418.5C165.479 418.5 164.167 419.813 164.167 421.417L164.167 430.167 155.417 430.167C153.813 430.167 152.5 431.479 152.5 433.083L152.5 438.917C152.5 440.521 153.813 441.833 155.417 441.833L164.167 441.833 164.167 450.583C164.167 452.188 165.479 453.5 167.083 453.5L172.917 453.5C174.521 453.5 175.833 452.188 175.833 450.583L175.833 441.833 184.583 441.833C186.188 441.833 187.5 440.521 187.5 438.917L187.5 433.083C187.5 431.479 186.188 430.167 184.583 430.167Z\" fill=\"#06B87C\"/></g></g></g></g></svg>`\r\n      \r\n          } else if (properties.ecmo === \"Not available\") {\r\n            status_icon = `<svg width=\"72\" height=\"71\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" overflow=\"hidden\"><defs><clipPath id=\"clip0\"><path d=\"M310 401 382 401 382 472 310 472Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath><clipPath id=\"clip1\"><path d=\"M311 401 381 401 381 471 311 471Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath><clipPath id=\"clip2\"><path d=\"M311 401 381 401 381 471 311 471Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath><clipPath id=\"clip3\"><path d=\"M311 401 381 401 381 471 311 471Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath></defs><g clip-path=\"url(#clip0)\" transform=\"translate(-310 -401)\"><path d=\"M319 436.5C319 422.417 330.641 411 345 411 359.359 411 371 422.417 371 436.5 371 450.583 359.359 462 345 462 330.641 462 319 450.583 319 436.5Z\" fill=\"#FFFFFF\" fill-rule=\"evenodd\"/><g clip-path=\"url(#clip1)\"><g clip-path=\"url(#clip2)\"><g clip-path=\"url(#clip3)\"><path d=\"M346 412.667C333.094 412.667 322.667 423.094 322.667 436 322.667 448.906 333.094 459.333 346 459.333 358.906 459.333 369.333 448.906 369.333 436 369.333 423.094 358.906 412.667 346 412.667ZM346 463.708C330.688 463.708 318.292 451.313 318.292 436 318.292 420.688 330.688 408.292 346 408.292 361.313 408.292 373.708 420.688 373.708 436 373.708 451.313 361.313 463.708 346 463.708Z\" fill=\"#C41C33\"/><path d=\"M360.583 430.167 351.833 430.167 351.833 421.417C351.833 419.813 350.521 418.5 348.917 418.5L343.083 418.5C341.479 418.5 340.167 419.813 340.167 421.417L340.167 430.167 331.417 430.167C329.813 430.167 328.5 431.479 328.5 433.083L328.5 438.917C328.5 440.521 329.813 441.833 331.417 441.833L340.167 441.833 340.167 450.583C340.167 452.188 341.479 453.5 343.083 453.5L348.917 453.5C350.521 453.5 351.833 452.188 351.833 450.583L351.833 441.833 360.583 441.833C362.188 441.833 363.5 440.521 363.5 438.917L363.5 433.083C363.5 431.479 362.188 430.167 360.583 430.167Z\" fill=\"#C41C33\"/></g></g></g></g></svg>`\r\n      \r\n          } else if (properties.ecmo === \"Limited\") {\r\n            \r\n            status_icon = `<svg width=\"72\" height=\"71\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" overflow=\"hidden\"><defs><clipPath id=\"clip0\"><path d=\"M220 401 292 401 292 472 220 472Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath><clipPath id=\"clip1\"><path d=\"M221 401 291 401 291 471 221 471Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath><clipPath id=\"clip2\"><path d=\"M221 401 291 401 291 471 221 471Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath><clipPath id=\"clip3\"><path d=\"M221 401 291 401 291 471 221 471Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath></defs><g clip-path=\"url(#clip0)\" transform=\"translate(-220 -401)\"><path d=\"M229 436.5C229 422.417 240.641 411 255 411 269.359 411 281 422.417 281 436.5 281 450.583 269.359 462 255 462 240.641 462 229 450.583 229 436.5Z\" fill=\"#FFFFFF\" fill-rule=\"evenodd\"/><g clip-path=\"url(#clip1)\"><g clip-path=\"url(#clip2)\"><g clip-path=\"url(#clip3)\"><path d=\"M256 412.667C243.094 412.667 232.667 423.094 232.667 436 232.667 448.906 243.094 459.333 256 459.333 268.906 459.333 279.333 448.906 279.333 436 279.333 423.094 268.906 412.667 256 412.667ZM256 463.708C240.688 463.708 228.292 451.313 228.292 436 228.292 420.688 240.688 408.292 256 408.292 271.313 408.292 283.708 420.688 283.708 436 283.708 451.313 271.313 463.708 256 463.708Z\" fill=\"#FAB800\"/><path d=\"M270.583 430.167 261.833 430.167 261.833 421.417C261.833 419.813 260.521 418.5 258.917 418.5L253.083 418.5C251.479 418.5 250.167 419.813 250.167 421.417L250.167 430.167 241.417 430.167C239.813 430.167 238.5 431.479 238.5 433.083L238.5 438.917C238.5 440.521 239.813 441.833 241.417 441.833L250.167 441.833 250.167 450.583C250.167 452.188 251.479 453.5 253.083 453.5L258.917 453.5C260.521 453.5 261.833 452.188 261.833 450.583L261.833 441.833 270.583 441.833C272.188 441.833 273.5 440.521 273.5 438.917L273.5 433.083C273.5 431.479 272.188 430.167 270.583 430.167Z\" fill=\"#FAB800\"/></g></g></g></g></svg>`\r\n            \r\n          } else {\r\n            status_icon = mark_icon\r\n          }\r\n        } catch {\r\n          status_icon = mark_icon\r\n        }\r\n      \r\n    \r\n        var noiseIcon = new H.map.Icon(status_icon, {\r\n          size: { w: 20, h: 20 },\r\n          anchor: { x: 10, y: 10},\r\n        })\r\n    \r\n        var noiseMarker = new H.map.Marker(noisePoint.getPosition(), {\r\n              icon: noiseIcon,\r\n              min: noisePoint.getMinZoom()\r\n            })\r\n\r\n\r\n        noiseMarker.setData(noisePoint.getData())\r\n\r\n        noiseMarker.addEventListener('tap', evt => {\r\n          ui.getBubbles().forEach(bubble => ui.removeBubble(bubble))\r\n\r\n          let data = evt.target.getData()\r\n\r\n          \r\n          let bubble =  new H.ui.InfoBubble(evt.target.getGeometry(), {\r\n            content: `\r\n            <div style=\"min-width:250px\">\r\n              <b>Hospital</b><br/>\r\n              ${data.hospital_name}\r\n              <br/>\r\n              <span style=\"font-size: 13px\"><b>Address</b>: ${data.address}</span><br/>\r\n              <span style=\"font-size: 13px\"><b>ICU low care</b>: ${data.low_care === undefined ? 'no data' : data.low_care }</span><br/>\r\n              <span style=\"font-size: 13px\"><b>ICU high care</b>: ${data.high_care === undefined ? 'no data' : data.high_care }</span><br/>\r\n              <span style=\"font-size: 13px\"><b>ECMO</b>: ${data.ecmo === undefined ? 'no data' : data.ecmo}</span><br/>\r\n            </div>`\r\n          })\r\n          // show info bubble\r\n          ui.addBubble(bubble)\r\n        })\r\n\r\n        return noiseMarker\r\n      }\r\n    }\r\n} \r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\n// Helpers\r\nimport { high_care_theme } from './theme/high_care_theme'\r\nimport { low_care_theme } from './theme/low_care_theme'\r\nimport { ecmo_theme } from './theme/ecmo_theme'\r\n\r\nimport isoline_icon from \"./icons/isoline-icon.svg\"\r\n\r\n\r\nexport default class Map extends Component {\r\n\r\n  constructor(props) {\r\n    super (props)\r\n\r\n    this.mapRef = React.createRef()\r\n    \r\n    this.state = {\r\n      M: null,\r\n      H: null,\r\n    }\r\n\r\n    this.createClusterLayer = this.createClusterLayer.bind(this)\r\n\r\n    this.hospitalsClusterLayer = null\r\n    this.clusteredDataProvider = null\r\n    this.activeLayer = null\r\n  }\r\n\r\n    \r\n  \r\n    async componentDidMount () {\r\n      \r\n      const H = window.H\r\n\r\n      const M = {\r\n        Platform: {},\r\n        DefaultLayers: {},\r\n        Map: {},\r\n        TileService: {},\r\n        TileLayer: {},\r\n        Behavior: {},\r\n        UI: {},\r\n        Settings: {\r\n          center: { lat: 51.00684227163969, lng: 8.794544921875  },\r\n          zoom: 7,\r\n          pixelRatio: window.pixelRatio || 1,\r\n          engineType: H.map.render.p2d\r\n        },\r\n        ZoomControl: {},\r\n        MapSettingsControl: {},\r\n        DistanceMeasurement: {},\r\n        ZoomRectangle: {},\r\n        ScaleBar: {},\r\n        Hospitals: null,\r\n      }\r\n\r\n      // Initialize paltform\r\n      M.Platform = new H.service.Platform({ apikey: this.props.apikey })\r\n      M.DefaultLayers = M.Platform.createDefaultLayers()\r\n      \r\n      // Customize type of basemap\r\n      \r\n      M.TileService = M.Platform.getMapTileService({type: 'traffic'})\r\n      \r\n      M.TileLayer = M.TileService.createTileLayer('traffictile', 'normal.day', 512, 'png8', {})\r\n      \r\n      M.TileLayer.setMin(6)\r\n\r\n      M.Map = new H.Map( this.mapRef.current, M.TileLayer, M.Settings )\r\n      \r\n      // Behavior\r\n      M.Behavior = new H.mapevents.Behavior(new H.mapevents.MapEvents(M.Map))\r\n      M.Behavior.disable(H.mapevents.Behavior.Feature.FRACTIONAL_ZOOM)\r\n      \r\n      //  User Interface\r\n      M.UI = new H.ui.UI(M.Map)\r\n\r\n      // Zoom Control\r\n      M.ZoomControl = new H.ui.ZoomControl({fractionalZoom: false, alignment: \"right-middle\"})\r\n      M.UI.addControl('zoom', M.ZoomControl)\r\n\r\n      // DZoom rectange\r\n      M.ZoomRectangle = new H.ui.ZoomRectangle({alignment: \"right-middle\"})\r\n      M.UI.addControl('zoomrectange', M.ZoomRectangle)\r\n\r\n      // Map default layers customization \r\n      // M.MapSettingsControl = new H.ui.MapSettingsControl({\r\n      //   baseLayers: [{\r\n      //     label: 'Reduced map',\r\n      //     layer: M.TileLayer\r\n      //   },\r\n      //   {\r\n      //     label: 'Normal day',\r\n      //     layer: M.DefaultLayers.raster.normal.map\r\n      //   },\r\n      //   {\r\n      //     label: 'Satellite',\r\n      //     layer: M.DefaultLayers.raster.satellite.map\r\n      //   }, \r\n      //   {\r\n      //     label: 'Normal night',\r\n      //     layer: M.DefaultLayers.raster.normal.basenight\r\n      //   }, \r\n      //   {\r\n      //     label: 'Base night',\r\n      //     layer: M.DefaultLayers.raster.normal.xbasenight\r\n      //   }],\r\n      //   alignment: \"right-bottom\"\r\n      // })\r\n\r\n      // M.UI.addControl('mapsettings', M.MapSettingsControl)\r\n\r\n      // Distance Measurement control\r\n      M.ScaleBar = new H.ui.ScaleBar({alignment: \"bottom-right\"})\r\n      M.UI.addControl('scalebar', M.ScaleBar)\r\n\r\n      // Resize map on window size change\r\n      window.addEventListener('resize', function() {\r\n          M.Map.getViewPort().resize()\r\n      })\r\n\r\n      M.Map.addEventListener('contextmenu', evt => this.contextMenu(evt))\r\n\r\n      M.Map.addEventListener('tap', evt => {\r\n        if (evt.target === M.Map) {\r\n          M.UI.getBubbles().forEach(bubble => M.UI.removeBubble(bubble))\r\n          \r\n        }\r\n      })\r\n\r\n      window.map = M.Map\r\n      this.setState({ ...M, H: H })\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.state.map.dispose()\r\n    }\r\n\r\n\r\n    contextMenu (evt) {\r\n\r\n      let { Map, H } = this.state\r\n\r\n\r\n      // if (evt.target !== Map) {\r\n      //   return\r\n      // }\r\n\r\n      let { \r\n        changeIsolineMarker, \r\n        clearIsoline,\r\n        updateWaypoints,\r\n        calculateRoute,\r\n        clearWaypoints\r\n      } = this.props\r\n\r\n      let coord  = Map.screenToGeo(evt.viewportX, evt.viewportY)\r\n      \r\n      evt.items.push(\r\n\r\n          new H.util.ContextItem({\r\n            label: [\r\n              Math.abs(coord.lat.toFixed(4)) + ((coord.lat > 0) ? 'N' : 'S'),\r\n              Math.abs(coord.lng.toFixed(4)) + ((coord.lng > 0) ? 'E' : 'W')\r\n            ].join(' ')\r\n          }),\r\n          \r\n          new H.util.ContextItem({\r\n            label: 'Center Map',\r\n            callback: function() {\r\n              Map.setCenter(coord, true);\r\n            }\r\n          }),\r\n          \r\n          H.util.ContextItem.SEPARATOR,\r\n          \r\n          new H.util.ContextItem({\r\n            label: 'Calculate Isoline',\r\n            callback: () => {\r\n              changeIsolineMarker(coord)\r\n            }\r\n          }),\r\n          new H.util.ContextItem({\r\n            label: 'Clear Isoline',\r\n            callback: () => {\r\n              clearIsoline()\r\n            }\r\n          }),\r\n\r\n          H.util.ContextItem.SEPARATOR,\r\n\r\n          new H.util.ContextItem({\r\n            label: 'Add waypoint',\r\n            callback: () => {\r\n              updateWaypoints(coord)\r\n            }\r\n          }),\r\n          // new H.util.ContextItem({\r\n          //   label: 'Calculate route',\r\n          //   callback: () => {\r\n          //     calculateRoute(coord)\r\n          //   }\r\n          // }),\r\n\r\n          new H.util.ContextItem({\r\n            label: 'Clear route',\r\n            callback: () => {\r\n              clearWaypoints(coord)\r\n            }\r\n          }),\r\n        )\r\n    }\r\n\r\n\r\n    styleRoute (linestring) {\r\n        \r\n      let routeOutline = new window.H.map.Polyline(linestring, {\r\n          style: {\r\n            lineWidth: 7,\r\n            strokeColor: 'rgba(0, 128, 255, 0.7)',\r\n            lineTailCap: 'arrow-tail',\r\n            lineHeadCap: 'arrow-head'\r\n          }\r\n        })\r\n        \r\n        let routeArrows = new window.H.map.Polyline(linestring, {\r\n          style: {\r\n            lineWidth: 7,\r\n            fillColor: 'white',\r\n            strokeColor: 'rgba(255, 255, 255, 1)',\r\n            lineDash: [0, 2],\r\n            lineTailCap: 'arrow-tail',\r\n            lineHeadCap: 'arrow-head' \r\n            }\r\n          }\r\n        )\r\n\r\n        let routeLine = new window.H.map.Group();\r\n        routeLine.addObjects([routeOutline, routeArrows])\r\n\r\n        return routeLine\r\n    }\r\n\r\n    createClusterLayer (features, theme) {\r\n      let { Map, H, UI } = this.state\r\n\r\n      let dataPoints = []\r\n\r\n      features.forEach(feature => {\r\n        dataPoints.push(new H.clustering.DataPoint(feature.geometry.coordinates[1], feature.geometry.coordinates[0], {}, feature.properties))\r\n      })\r\n\r\n      this.clusteredDataProvider = new H.clustering.Provider(dataPoints, {\r\n        clusteringOptions: {\r\n          strategy: H.clustering.Provider.Strategy.FASTGRID,\r\n          eps: 32,\r\n        }\r\n      })\r\n      \r\n      this.clusteredDataProvider.setTheme(theme(Map, UI)) \r\n\r\n      return new H.map.layer.ObjectLayer(this.clusteredDataProvider) \r\n    }\r\n\r\n\r\n    render() {\r\n\r\n      const { options, analytics } = this.props\r\n      const { Map, H, UI } = this.state\r\n      \r\n      \r\n      if (Map != null) {\r\n        \r\n        if (analytics.hospitals != null) {\r\n        \r\n          if (this.hospitalsClusterLayer === null) {\r\n            switch(analytics.active_layer) {\r\n              case \"low_care\":\r\n                this.activeLayer = \"low_care\"\r\n                this.hospitalsClusterLayer = this.createClusterLayer(analytics.hospitals.features, low_care_theme)\r\n                break\r\n              \r\n              case \"high_care\":\r\n                this.activeLayer = \"high_care\"\r\n                this.hospitalsClusterLayer = this.createClusterLayer(analytics.hospitals.features, high_care_theme)\r\n                break\r\n              \r\n              case \"ecmo\":\r\n                this.activeLayer = \"ecmo\"\r\n                this.hospitalsClusterLayer = this.createClusterLayer(analytics.hospitals.features, ecmo_theme)\r\n                break        \r\n            }\r\n\r\n            Map.addLayer(this.hospitalsClusterLayer)\r\n          \r\n          } else {\r\n            const that = this\r\n\r\n            switch (analytics.active_layer) {\r\n              case \"low_care\":\r\n                if (that.activeLayer !== \"low_care\") {\r\n                  that.activeLayer = \"low_care\"\r\n                  that.clusteredDataProvider.setTheme(low_care_theme(Map, UI))\r\n                }\r\n                break\r\n\r\n              case \"high_care\":\r\n                if (that.activeLayer !== \"high_care\"){\r\n                  that.activeLayer = \"high_care\"\r\n                  that.clusteredDataProvider.setTheme(high_care_theme(Map, UI))\r\n                }\r\n                break\r\n              \r\n              case \"ecmo\":\r\n                if (that.activeLayer !== \"ecmo\"){\r\n                  that.activeLayer = \"ecmo\"\r\n                  that.clusteredDataProvider.setTheme(ecmo_theme(Map, UI))\r\n                }\r\n                break\r\n            }\r\n          }\r\n        }\r\n\r\n        Map.removeObjects(Map.getObjects())\r\n\r\n        if( options.isoline.geometry.length !== 0) {\r\n          \r\n          let marker = new H.map.Marker({lat: options.isoline.marker.lat, lng: options.isoline.marker.lng}, {\r\n            icon: new H.map.Icon(isoline_icon,  {\r\n              size: { w: 20, h: 20 },\r\n              // anchor: { x: 10, y: 10},\r\n            })\r\n          })\r\n          \r\n          Map.addObject(marker)\r\n\r\n          let linestring = new H.geo.LineString()\r\n          \r\n          options.isoline.geometry.forEach(point => {\r\n            let coords = point.split(\",\")\r\n            linestring.pushPoint({lat: Number(coords[0]), lng: Number(coords[1])})\r\n          })\r\n\r\n          let polygon = new H.map.Polygon(\r\n            linestring, \r\n            { \r\n              style: { \r\n                lineWidth: 2,\r\n                fillColor: 'rgba(103, 58, 147, 0.3)',\r\n                strokeColor: '#673A93',\r\n                lineDash: [0, 2],\r\n              }\r\n            })  \r\n          Map.addObject(polygon)\r\n        }\r\n\r\n\r\n        options.waypoints.markers.forEach((feature, i ) => {\r\n\r\n          let waypoint_icon = `<svg width=\"60\" height=\"64\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" overflow=\"hidden\"><defs><clipPath id=\"clip0\"><path d=\"M493 466 553 466 553 530 493 530Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></clipPath></defs><g clip-path=\"url(#clip0)\" transform=\"translate(-493 -466)\"><path d=\"M498.5 496C498.5 482.469 509.693 471.5 523.5 471.5 537.307 471.5 548.5 482.469 548.5 496 548.5 509.531 537.307 520.5 523.5 520.5 509.693 520.5 498.5 509.531 498.5 496Z\" stroke=\"#3F59A7\" stroke-width=\"8.66667\" stroke-miterlimit=\"8\" fill=\"#FFFFFF\" fill-rule=\"evenodd\"/><text fill=\"#3F59A7\" font-family=\"FiraGO,FiraGO_MSFontService,sans-serif\" font-weight=\"700\" font-size=\"27\" transform=\"translate(516.775 507)\">{weight}</text></g></svg>`\r\n          let svgString = waypoint_icon.replace(/\\{weight\\}/g, i+1)\r\n\r\n          let marker = new H.map.Marker({lat: feature.lat, lng: feature.lng}, {\r\n            icon: new H.map.Icon(svgString,  {\r\n              size: { w: 30, h: 30 },\r\n              // anchor: { x: 10, y: 10},\r\n            })\r\n          })\r\n          Map.addObject(marker)\r\n        })\r\n\r\n        if (options.waypoints.geometry.length !== 0) {\r\n            \r\n            let lineString = new H.geo.LineString()\r\n            \r\n            options.waypoints.geometry.forEach(feature => {\r\n                lineString.pushPoint({lat: feature[0], lng: feature[1]})\r\n            })\r\n            \r\n            let routeLine = this.styleRoute(lineString)\r\n\r\n            Map.addObject(routeLine)\r\n        }\r\n      }\r\n\r\n        return <div className=\"map\" ref={this.mapRef} />\r\n    }\r\n}\r\n\r\nMap.propTypes = {\r\n  apikey: PropTypes.string,\r\n  layers: PropTypes.array,\r\n  options: PropTypes.object,\r\n  clearIsoline: PropTypes.func,\r\n  changeIsolineMarker: PropTypes.func,\r\n  updateWaypoints: PropTypes.func,\r\n  clearWaypoints: PropTypes.func,\r\n  calculateRoute: PropTypes.func\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport chevronDown from './icons/LUI-icon-pd-chevron_down-solid-16.svg'\r\nimport './style.css'\r\n\r\nexport class Analytics extends Component {\r\n\r\n    render () {\r\n\r\n        let { analytics, changeActiveLayer, dropdownClick } = this.props\r\n\r\n        return (\r\n            <div className=\"parameters\">\r\n                \r\n                <lui-label>Hospitals status</lui-label>\r\n                \r\n                {\r\n                    analytics.hospitals !== null ? \r\n                    <lui-radiobutton-group>\r\n                        {/* ICU low care */}\r\n                        <div className=\"analytics-parameter-block\">\r\n                            <div className=\"analytics-item-row\">\r\n                                <div className=\"analytics-item-column\">\r\n                                    {\r\n                                        analytics.dropdown.low_care ?\r\n                                            <img className=\"chevron-down-icon\" onClick={() => dropdownClick(\"low_care\")} src={chevronDown} ></img>\r\n                                        :\r\n                                            <img className=\"chevron-right-icon\" onClick={() => dropdownClick(\"low_care\")} src={chevronDown} ></img>\r\n                                    }\r\n                                </div>\r\n                                {\r\n                                    analytics.active_layer === \"low_care\" ?\r\n                                        <lui-radiobutton checked > ICU low care </lui-radiobutton>\r\n                                    :\r\n                                        <lui-radiobutton onClick={() => changeActiveLayer(\"low_care\")}> ICU low care </lui-radiobutton>\r\n                                }\r\n                            </div>\r\n                            <div className={analytics.dropdown.low_care ? \"analytics-item-row\" : \"d-none\"}>\r\n                                <div className=\"analytics-item-column\">\r\n                                    <span className=\"analytics-item-description\">\r\n                                        Intensive care beds without invasive ventilation (monitoring, possibly non-invasive ventilation possible)\r\n                                    </span>\r\n                                    <div className=\"analytics-item-legend\">\r\n                                        <span className=\"legend-item\">\r\n                                            <div className=\"legend-marker-green\"></div>\r\n                                            Avalilable: {analytics.statistics.low_care.available}\r\n                                        </span>\r\n                                        <span className=\"legend-item\">\r\n                                            <div className=\"legend-marker-yellow\"></div>\r\n                                            Limited: {analytics.statistics.low_care.limited}\r\n                                        </span>\r\n                                        <span className=\"legend-item\">\r\n                                            <div className=\"legend-marker-red\"></div>\r\n                                            Not avalilable: {analytics.statistics.low_care.not}\r\n                                        </span>\r\n                                        <span className=\"legend-item\">\r\n                                            <div className=\"legend-marker-purple\"></div>\r\n                                            No data: {analytics.statistics.low_care.nodata}\r\n                                        </span>\r\n                                    </div>                            \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        {/* ICU high care */}\r\n                        <div className=\"analytics-parameter-block\">\r\n                            <div className=\"analytics-item-row\">\r\n                                <div className=\"analytics-item-column\">\r\n                                    {\r\n                                        analytics.dropdown.high_care ?\r\n                                            <img className=\"chevron-down-icon\" onClick={() => dropdownClick(\"high_care\")}  src={chevronDown} ></img>\r\n                                        :\r\n                                            <img className=\"chevron-right-icon\" onClick={() => dropdownClick(\"high_care\")} src={chevronDown} ></img>\r\n                                    }\r\n                                </div>\r\n                                {\r\n                                    analytics.active_layer === \"high_care\" ?\r\n                                        <lui-radiobutton checked> ICU high care </lui-radiobutton>\r\n                                    :\r\n                                        <lui-radiobutton onClick={() => changeActiveLayer(\"high_care\")}> ICU high care </lui-radiobutton>\r\n                                }\r\n                            </div>\r\n                            <div className={analytics.dropdown.high_care ? \"analytics-item-row\" : \"d-none\"}>\r\n                                <div className=\"analytics-item-column\">\r\n                                    <span className=\"analytics-item-description\">\r\n                                        Intensive care beds with invasive ventilation (ventilation beds)\r\n                                    </span>\r\n                                    <div className=\"analytics-item-legend\">\r\n                                        <span className=\"legend-item\">\r\n                                            <div className=\"legend-marker-green\"></div>\r\n                                            Avalilable: {analytics.statistics.high_care.available}\r\n                                        </span>\r\n                                        <span className=\"legend-item\">\r\n                                            <div className=\"legend-marker-yellow\"></div>\r\n                                            Limited: {analytics.statistics.high_care.limited}\r\n                                        </span>\r\n                                        <span className=\"legend-item\">\r\n                                            <div className=\"legend-marker-red\"></div>\r\n                                            Not avalilable: {analytics.statistics.high_care.not}\r\n                                        </span>\r\n                                        <span className=\"legend-item\">\r\n                                            <div className=\"legend-marker-purple\"></div>\r\n                                            No data: {analytics.statistics.high_care.nodata}\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        {/* ECMO */}\r\n                        <div className=\"analytics-parameter-block\">\r\n                            <div className=\"analytics-item-row\">\r\n                                <div className=\"analytics-item-column\">\r\n                                    {\r\n                                        analytics.dropdown.ecmo ?\r\n                                            <img className=\"chevron-down-icon\" onClick={() => dropdownClick(\"ecmo\")} src={chevronDown} ></img>\r\n                                        :\r\n                                            <img className=\"chevron-right-icon\" onClick={() => dropdownClick(\"ecmo\")} src={chevronDown} ></img>\r\n                                    }\r\n                                </div>\r\n                                {\r\n                                    analytics.active_layer === \"ecmo\" ?\r\n                                        <lui-radiobutton checked> ECMO </lui-radiobutton>\r\n                                    :\r\n                                        <lui-radiobutton onClick={() => changeActiveLayer(\"ecmo\")}> ECMO </lui-radiobutton>\r\n                                }\r\n                                \r\n                            </div>\r\n                            <div className={analytics.dropdown.ecmo ? \"analytics-item-row\" : \"d-none\"}>\r\n                                <div className=\"analytics-item-column\">\r\n                                    <span className=\"analytics-item-description\">\r\n                                        Additional extracorporeal membrane oxygenation\r\n                                    </span>\r\n                                    <div className=\"analytics-item-legend\">\r\n                                        <span className=\"legend-item\">\r\n                                            <div className=\"legend-marker-green\"></div>\r\n                                            Avalilable: {analytics.statistics.ecmo.available}\r\n                                        </span>\r\n                                        <span className=\"legend-item\">\r\n                                            <div className=\"legend-marker-yellow\"></div>\r\n                                            Limited: {analytics.statistics.ecmo.limited}\r\n                                        </span>\r\n                                        <span className=\"legend-item\">\r\n                                            <div className=\"legend-marker-red\"></div>\r\n                                            Not avalilable: {analytics.statistics.ecmo.not}\r\n                                        </span>\r\n                                        <span className=\"legend-item\">\r\n                                            <div className=\"legend-marker-purple\"></div>\r\n                                            No data: {analytics.statistics.ecmo.nodata}\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </lui-radiobutton-group>\r\n\r\n                :\r\n                \r\n                <div className=\"spinner\">\r\n                    <lui-spinner class=\"lui-big\"></lui-spinner>\r\n                </div>\r\n\r\n                }\r\n                \r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nAnalytics.propTypes = {\r\n    layers: PropTypes.array, \r\n    radiobuttonClick: PropTypes.func, \r\n    dropdownClick: PropTypes.func\r\n  }","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport {\r\n    CustomInput,\r\n    Row,\r\n    Col,\r\n    FormGroup,\r\n} from 'reactstrap'\r\n\r\nimport chevronDown from './icons/LUI-icon-pd-chevron_down-solid-16.svg'\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport './style.css'\r\n\r\nexport const Routing = props => {\r\n\r\n    let { \r\n        options, \r\n        onChangeIsolineRange, \r\n        clickCheckboxParameter,\r\n        dropdownClick\r\n    } = props\r\n\r\n    return (\r\n        <div className=\"parameters\">\r\n            <lui-label>Routing parameters</lui-label>\r\n\r\n            <div className=\"analytics-parameter-block\">\r\n                <div className=\"analytics-item-row\">\r\n                    <div className=\"analytics-item-column\">\r\n                        {\r\n                            options.dropdown.isoline ?\r\n                                <img className=\"chevron-down-icon\" onClick={() => dropdownClick(\"isoline\")} src={chevronDown} ></img>\r\n                            :\r\n                                <img className=\"chevron-right-icon\" onClick={() => dropdownClick(\"isoline\")} src={chevronDown} ></img>\r\n                        }\r\n                    </div>\r\n                    <div className=\"label-isoline\"> Isoline parameters </div>\r\n                </div>\r\n                <div className={options.dropdown.isoline ? \"analytics-item-column parameters-content\" : \"d-none\"}>\r\n                    <div className=\"analytics-item-row space-between\">\r\n                        <div className=\"analytics-item-column\">\r\n                            <lui-label>Range</lui-label>\r\n                        </div>\r\n                        <div className=\"analytics-item-column\">\r\n                            <lui-label>\r\n                                {options.isoline.type === \"time\" ? `${options.isoline.range / 60} min` : `${options.isoline.range} m`}\r\n                            </lui-label>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"analytics-item-row\">\r\n                        <CustomInput \r\n                            className=\"slider\" \r\n                            type=\"range\" \r\n                            id=\"isoline-range\" \r\n                            name=\"isolineRange\"\r\n                            min=\"60\"\r\n                            step=\"120\"\r\n                            max=\"1860\"\r\n                            value={options.isoline.range}\r\n                            onChange={evt => onChangeIsolineRange(evt.target.value)} />    \r\n                    </div>\r\n                    <div className=\"parameters-content-item\">\r\n                        <lui-label>Transport</lui-label>\r\n                        <lui-radiobutton-group columns=\"2\">\r\n                            { \r\n                                options.isoline.transport === \"car\" ? \r\n                                    <lui-radiobutton checked >Car</lui-radiobutton>\r\n                                : \r\n                                    <lui-radiobutton onClick={() => clickCheckboxParameter(\"isoline\", \"transport\", \"car\")}>Car</lui-radiobutton>\r\n                            }\r\n                            { \r\n                                options.isoline.transport === \"pedestrian\" ? \r\n                                    <lui-radiobutton checked >Pedestrian</lui-radiobutton>\r\n                                : \r\n                                    <lui-radiobutton onClick={() => clickCheckboxParameter(\"isoline\", \"transport\", \"pedestrian\")}>Pedestrian</lui-radiobutton>\r\n                            }\r\n                        </lui-radiobutton-group>\r\n\r\n                        <lui-label>Mode</lui-label>\r\n                        <lui-radiobutton-group columns=\"2\">\r\n                            { \r\n                                options.isoline.type === \"time\" ? \r\n                                    <lui-radiobutton checked >Time</lui-radiobutton>\r\n                                : \r\n                                    <lui-radiobutton onClick={() => clickCheckboxParameter(\"isoline\", \"type\", \"time\")}>Time</lui-radiobutton>\r\n                            }\r\n                            { \r\n                                options.isoline.type === \"distance\" ? \r\n                                    <lui-radiobutton checked >Distance</lui-radiobutton>\r\n                                : \r\n                                    <lui-radiobutton onClick={() => clickCheckboxParameter(\"isoline\", \"type\", \"distance\")}>Distance</lui-radiobutton>\r\n                            }\r\n                        </lui-radiobutton-group>\r\n                        \r\n                        <lui-label>Traffic</lui-label>\r\n                        <lui-radiobutton-group columns=\"2\">\r\n                            { \r\n                                options.isoline.traffic === \"enabled\" ? \r\n                                    <lui-radiobutton checked>Enabled</lui-radiobutton>\r\n                                : \r\n                                    <lui-radiobutton onClick={() => clickCheckboxParameter(\"isoline\", \"traffic\", \"enabled\")}>Enabled</lui-radiobutton>\r\n                            }\r\n                            { \r\n                                options.isoline.traffic === \"disabled\" ? \r\n                                    <lui-radiobutton checked>Disabled</lui-radiobutton>\r\n                                : \r\n                                    <lui-radiobutton onClick={() => clickCheckboxParameter(\"isoline\", \"traffic\", \"disabled\")}>Disabled</lui-radiobutton>\r\n                            }\r\n                        </lui-radiobutton-group>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"analytics-parameter-block\">\r\n                <div className=\"analytics-item-row\">\r\n                    <div className=\"analytics-item-column\">\r\n                        {\r\n                            options.dropdown.waypoints ?\r\n                                <img className=\"chevron-down-icon\" onClick={() => dropdownClick(\"waypoints\")} src={chevronDown} ></img>\r\n                            :\r\n                                <img className=\"chevron-right-icon\" onClick={() => dropdownClick(\"waypoints\")} src={chevronDown} ></img>\r\n                        }\r\n                    </div>\r\n                    <div className=\"label-isoline\"> Waypoints parameters </div>\r\n                </div>\r\n                <div className={options.dropdown.waypoints ? \"analytics-item-column parameters-content\" : \"d-none\"}>\r\n                    <div >\r\n                        <lui-label>Transport</lui-label>\r\n                        <lui-radiobutton-group columns=\"2\">\r\n                            { \r\n                                options.waypoints.transport === \"car\" ? \r\n                                    <lui-radiobutton checked >Car</lui-radiobutton>\r\n                                : \r\n                                    <lui-radiobutton onClick={() => clickCheckboxParameter(\"waypoints\", \"transport\", \"car\")}>Car</lui-radiobutton>\r\n                            }\r\n                            { \r\n                                options.waypoints.transport === \"pedestrian\" ? \r\n                                    <lui-radiobutton checked >Pedestrian</lui-radiobutton>\r\n                                : \r\n                                    <lui-radiobutton onClick={() => clickCheckboxParameter(\"waypoints\", \"transport\", \"pedestrian\")}>Pedestrian</lui-radiobutton>\r\n                            }\r\n                        </lui-radiobutton-group>\r\n                        \r\n                        <lui-label>Traffic</lui-label>\r\n                        <lui-radiobutton-group columns=\"2\">\r\n                            { \r\n                                options.waypoints.traffic === \"enabled\" ? \r\n                                    <lui-radiobutton checked>Enabled</lui-radiobutton>\r\n                                : \r\n                                    <lui-radiobutton onClick={() => clickCheckboxParameter(\"waypoints\", \"traffic\", \"enabled\")}>Enabled</lui-radiobutton>\r\n                            }\r\n                            { \r\n                                options.waypoints.traffic === \"disabled\" ? \r\n                                    <lui-radiobutton checked>Disabled</lui-radiobutton>\r\n                                : \r\n                                    <lui-radiobutton onClick={() => clickCheckboxParameter(\"waypoints\", \"traffic\", \"disabled\")}>Disabled</lui-radiobutton>\r\n                            }\r\n                        </lui-radiobutton-group>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nRouting.propTypes = {\r\n    options: PropTypes.object,\r\n    onChangeIsolineRange: PropTypes.func,\r\n    clickCheckboxParameter: PropTypes.func,\r\n    clickOptionDropdown: PropTypes.func\r\n}","import React, { useState } from 'react'\r\nimport { Analytics } from '../Analytics'\r\nimport { Routing } from '../Routing'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport svg from './icons/LUI-icon-pd-chevron_left_double-solid-24.svg'\r\n\r\nimport './style.css'\r\n  \r\nexport const Sidebar = props => { \r\n\r\n    const [show, setVisibility] = useState(true);\r\n\r\n    let { \r\n        analytics,\r\n        changeActiveLayer,\r\n        changeMode,\r\n        options,\r\n        dropdownClick,\r\n        onChangeIsolineRange,\r\n        clickCheckboxParameter,\r\n        clickOptionDropdown\r\n    } = props\r\n\r\n    return (\r\n        <div className={show ? \"sidebar\" : \"sidebar-collapse\"}>\r\n            <lui-navigation>\r\n                <lui-productlogo slot=\"productlogo\">HERE4Life</lui-productlogo>\r\n                <lui-label slot=\"controls\" onClick={() => setVisibility(!show)} className=\"lui-small\">\r\n                        { \r\n                            show === true? \r\n                                <slot name=\"icon\">\r\n                                    <img className=\"chevron-down\" src={svg}></img>\r\n                                </slot>\r\n                            :\r\n                                <slot name=\"icon\">\r\n                                    <img className=\"chevron-left\" src={svg}></img>\r\n                                </slot>\r\n                        }\r\n                </lui-label>\r\n                <lui-label slot=\"controls-mobile\" onClick={() => setVisibility(!show)} className=\"lui-small\">\r\n                        { \r\n                            show === true? \r\n                                <slot name=\"icon\">\r\n                                    <img className=\"chevron-down\" src={svg}></img>\r\n                                </slot>\r\n                            :\r\n                                <slot name=\"icon\">\r\n                                    <img className=\"chevron-left\" src={svg}></img>\r\n                                </slot>\r\n                        }\r\n                </lui-label>\r\n            </lui-navigation>\r\n            <div className={show ? \"d-block\" : \"d-none\"}>\r\n                <div className=\"switch-options\">\r\n                    <div \r\n                        onClick={ () => changeMode(\"analytics\") } \r\n                        className={analytics.mode === \"analytics\" ? \"tab-btn tab-active\" : \"tab-btn\"}>Analytics</div>\r\n                    <div \r\n                        onClick={ () => changeMode(\"routing\") } \r\n                        className={analytics.mode === \"routing\" ? \"tab-btn tab-active\" : \"tab-btn\"}>Routing</div>\r\n                </div>\r\n                \r\n                {   \r\n                    analytics.mode === \"analytics\" ? \r\n                        <Analytics \r\n                            analytics={analytics}\r\n                            changeActiveLayer={changeActiveLayer}\r\n                            dropdownClick={dropdownClick} />\r\n                    :\r\n\r\n                        <Routing \r\n                            options={options}\r\n                            clickCheckboxParameter={clickCheckboxParameter}\r\n                            onChangeIsolineRange={onChangeIsolineRange}\r\n                            dropdownClick={dropdownClick}/>\r\n                }\r\n            \r\n            </div>\r\n        </div>   \r\n    )\r\n}\r\n\r\nSidebar.propTypes = {\r\n    mode: PropTypes.string,\r\n    options: PropTypes.object,\r\n    layers: PropTypes.array,\r\n    analytics: PropTypes.object,\r\n    changeMode: PropTypes.func,\r\n    changeAnalytics: PropTypes.func,\r\n    checkBoxClick: PropTypes.func,\r\n    onChangeIsolineRange: PropTypes.func,\r\n    clickCheckboxParameter: PropTypes.func,\r\n    clickOptionDropdown: PropTypes.func\r\n}","export const config = {\r\n    apikey: \"d94UCjhJ6sEzabRJjKV8Z5-w6Py99jqHQAB-uj6g6ks\", // JavaScript API_KEY from Developer's account https://developer.here.com\r\n    token: \"AGNjdAWKRUiLFDvPtnVM-AA\",                      // ACCESS_TOKEN from HERE Data Hub Manage Tokens \r\n    spaces: {\r\n        german_hospitals: \"v6fbBS5z\",                      // SPACE_ID of the layer from HERE Data Hub Manage Tokens \r\n        german_warehouses: \"hoCxTKFb\"                      // SPACE_ID of the layer from HERE Data Hub Manage Tokens \r\n    }\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport axios from 'axios'\r\n\r\nimport { config } from '../../assets/js/config'\r\nimport './style.css'\r\n\r\nexport class Search extends Component {\r\n    \r\n    constructor (props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            suggestions:[],\r\n            searchText:\"\",\r\n        }\r\n    }\r\n\r\n    geocode (locationId) {\r\n        let baseUrl = \"https://geocoder.ls.hereapi.com/6.2/geocode.json\"\r\n        let geocoderUrl = baseUrl + `?locationid=${locationId}&apikey=${config.apikey}`\r\n        \r\n        axios.get(geocoderUrl).then(res => {\r\n    \r\n          let lat = res.data.Response.View[0].Result[0].Location.DisplayPosition.Latitude\r\n          let lng = res.data.Response.View[0].Result[0].Location.DisplayPosition.Longitude\r\n    \r\n          window.map.setCenter({lat: lat,lng: lng})\r\n          window.map.setZoom(17)\r\n    \r\n          this.setState({searchText: \"\", geocoderResults: [], suggestions:[]})\r\n        })\r\n    }\r\n\r\n    onChangeSearch(searchText){\r\n        this.setState({searchText: searchText})\r\n    \r\n        let baseUrl = \"https://autocomplete.geocoder.ls.hereapi.com/6.2/suggest.json\"\r\n        let geoUrl = baseUrl + `?query=${searchText}` + `&apikey=${config.apikey}` + \"&maxresults=5\"\r\n        \r\n        axios.get(geoUrl).then(res => {\r\n          this.setState({suggestions: res.data.suggestions})\r\n        })  \r\n    }\r\n\r\n    render () {\r\n\r\n        let { \r\n            searchText, \r\n            suggestions, \r\n        } = this.state\r\n\r\n        return <div className=\"search-container\">\r\n            <lui-default-theme>\r\n                <div style={{background: \"#fff\"}}>\r\n                    <lui-search \r\n                        placeholder=\"Search\" >\r\n                        <input onChange={e => this.onChangeSearch(e.currentTarget.value)} type=\"text\" value={searchText}></input>  \r\n                    </lui-search>\r\n                        \r\n                </div>\r\n\r\n                <div className=\"suggestions-list\">\r\n                    <lui-menu  style={{display: (suggestions !== undefined && suggestions.length !== 0) ? \"block\" : \"none\", height: \"auto\", width: \"400px\", maxWidth: \"400px\"}}>\r\n                        {\r\n                            (suggestions !== undefined ? \r\n                                suggestions.map((result, i) => {\r\n                                    return  <lui-menuitem \r\n                                                key={i}  \r\n                                                onClick={() => this.geocode(result.locationId)}>\r\n                                                    {result.label}\r\n                                            </lui-menuitem>\r\n                                }) \r\n                                \r\n                                : \r\n\r\n                                <div></div>\r\n                            )\r\n                        }\r\n                    </lui-menu>\r\n                </div>\r\n                \r\n         \r\n            </lui-default-theme>\r\n           \r\n            \r\n           \r\n        </div>   \r\n    }\r\n    \r\n}\r\n\r\nSearch.propTypes = {\r\n    options: PropTypes.object,\r\n    onChangeIsolineRange: PropTypes.func,\r\n    clickCheckboxParameter: PropTypes.func,\r\n    clickOptionDropdown: PropTypes.func\r\n}","import React, { Component } from 'react'\r\n\r\n// Components\r\nimport Map from '../Map'\r\nimport { Sidebar } from '../Sidebar'\r\nimport { Search  } from '../Search'\r\n\r\n// Requests library\r\nimport axios from 'axios'\r\n\r\n// Helpers\r\nimport { config } from '../../assets/js/config'\r\n\r\nexport default class App extends Component {\r\n\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      apikey: config.apikey,\r\n      analytics: {\r\n        mode: \"analytics\",\r\n        active_layer: \"low_care\",\r\n        hospitals: null,\r\n        statistics: null,\r\n        dropdown: {\r\n          low_care: true,\r\n          high_care: true,\r\n          ecmo: true\r\n        }\r\n      },\r\n      options: {\r\n        dropdown: {\r\n          isoline: true,\r\n          waypoints: true\r\n        },\r\n        isoline: {\r\n          range: 300,\r\n          type: \"time\",\r\n          transport: \"car\",\r\n          traffic: \"enabled\",\r\n          geometry: [],\r\n          marker: {lat: null, lng: null}\r\n        },\r\n        waypoints: {\r\n          transport: \"car\",\r\n          traffic: \"enabled\",\r\n          markers: [],\r\n          geometry: []\r\n        }\r\n      }\r\n    }\r\n\r\n    this.changeActiveLayer = this.changeActiveLayer.bind(this)\r\n\r\n    this.changeMode = this.changeMode.bind(this)\r\n    this.dropdownClick = this.dropdownClick.bind(this)\r\n\r\n    // Isoline routing\r\n    this.onChangeIsolineRange = this.onChangeIsolineRange.bind(this)\r\n    this.clickCheckboxParameter = this.clickCheckboxParameter.bind(this)\r\n\r\n    this.changeIsolineMarker = this.changeIsolineMarker.bind(this)\r\n    this.clearIsoline = this.clearIsoline.bind(this)\r\n\r\n    // Options hide/show\r\n    this.clickOptionDropdown = this.clickOptionDropdown.bind(this)\r\n    \r\n    // Waypoint routing\r\n    this.calculateRoute = this.calculateRoute.bind(this)\r\n    this.updateWaypoints = this.updateWaypoints.bind(this)\r\n    this.clearWaypoints = this.clearWaypoints.bind(this)\r\n  }\r\n\r\n  componentDidMount () {\r\n    // Getting spatial layers from Data Hub by SpaceId\r\n    \r\n    this.getSpaceFeatures(config.spaces.german_hospitals)\r\n\r\n    // Update each our\r\n    setInterval(() => {\r\n      this.getSpaceFeatures(config.spaces.german_hospitals)\r\n    }, 3600000)\r\n\r\n  }\r\n\r\n  \r\n  async getSpaceFeatures (spaceId) {\r\n    let data_url = `https://xyz.api.here.com/hub/spaces/${spaceId}/iterate?access_token=${config.token}`\r\n    \r\n    let res = await axios.get(data_url)\r\n\r\n    // debugger\r\n    let low_available = res.data.features.filter(item => item.properties.low_care === 'Available').length\r\n    let high_available = res.data.features.filter(item => item.properties.high_care === 'Available').length\r\n    let ecmo_available = res.data.features.filter(item => item.properties.ecmo === 'Available').length\r\n\r\n    let low_limited = res.data.features.filter(item => item.properties.low_care === 'Limited').length\r\n    let high_limited = res.data.features.filter(item => item.properties.high_care === 'Limited').length\r\n    let ecmo_limited = res.data.features.filter(item => item.properties.ecmo === 'Limited').length\r\n\r\n    let low_not = res.data.features.filter(item => item.properties.low_care === 'Not available').length\r\n    let high_not = res.data.features.filter(item => item.properties.high_care === 'Not available').length\r\n    let ecmo_not = res.data.features.filter(item => item.properties.ecmo === 'Not available').length\r\n\r\n    let low_nodata = res.data.features.filter(item => item.properties.low_care !== 'Not available' && item.properties.low_care !== 'Available' && item.properties.low_care !== 'Limited').length\r\n    let high_nodata = res.data.features.filter(item => item.properties.high_care !== 'Not available' && item.properties.high_care !== 'Available' && item.properties.high_care !== 'Limited').length\r\n    let ecmo_nodata = res.data.features.filter(item => item.properties.ecmo !== 'Not available' && item.properties.ecmo !== 'Available' && item.properties.ecmo !== 'Limited').length\r\n    \r\n\r\n    this.setState({\r\n      analytics: {\r\n        ...this.state.analytics, \r\n        hospitals: res.data, \r\n        statistics: {\r\n          low_care: {\r\n            available: low_available,\r\n            limited: low_limited,\r\n            not: low_not,\r\n            nodata: low_nodata\r\n          },\r\n          high_care: {\r\n            available: high_available,\r\n            limited: high_limited,\r\n            not: high_not,\r\n            nodata: high_nodata\r\n          },\r\n          ecmo: {\r\n            available: ecmo_available,\r\n            limited: ecmo_limited,\r\n            not: ecmo_not,\r\n            nodata: ecmo_nodata\r\n          },\r\n        }\r\n      }\r\n    })    \r\n  }\r\n\r\n  changeActiveLayer (layer) {\r\n    this.setState({analytics: {...this.state.analytics, active_layer: layer}})\r\n  }\r\n\r\n  changeMode (mode) {\r\n    this.setState({analytics: {...this.state.analytics, mode: mode}})\r\n  }\r\n\r\n  dropdownClick (parameter) {\r\n    switch (parameter) {\r\n      case \"low_care\":\r\n        this.setState({\r\n          analytics: {\r\n            ...this.state.analytics,\r\n            dropdown: {\r\n              ...this.state.analytics.dropdown, \r\n              low_care: !this.state.analytics.dropdown.low_care\r\n            }\r\n          },  \r\n        })\r\n        break\r\n      case \"high_care\":\r\n        this.setState({\r\n          analytics: {\r\n            ...this.state.analytics,\r\n            dropdown: {\r\n              ...this.state.analytics.dropdown, \r\n              high_care: !this.state.analytics.dropdown.high_care\r\n            }\r\n          },  \r\n        })\r\n        break\r\n      case \"ecmo\":\r\n        this.setState({\r\n          analytics: {\r\n            ...this.state.analytics,\r\n            dropdown: {\r\n              ...this.state.analytics.dropdown, \r\n              ecmo: !this.state.analytics.dropdown.ecmo\r\n            }\r\n          },  \r\n        })\r\n        break\r\n      \r\n      case \"isoline\":\r\n          this.setState({\r\n            options: {\r\n              ...this.state.options,\r\n              dropdown: {\r\n                ...this.state.options.dropdown, \r\n                isoline: !this.state.options.dropdown.isoline\r\n              }\r\n            },  \r\n          })\r\n          break\r\n\r\n      case \"waypoints\":\r\n        this.setState({\r\n          options: {\r\n            ...this.state.options,\r\n            dropdown: {\r\n              ...this.state.options.dropdown, \r\n              waypoints: !this.state.options.dropdown.waypoints\r\n            }\r\n          },  \r\n        })\r\n        break\r\n    }\r\n  }\r\n\r\n  onChangeIsolineRange (value) {\r\n    let { options } = this.state\r\n\r\n    options.isoline.range = value\r\n    this.setState({options: options})\r\n\r\n    this.calculateIsoline(options.isoline.marker)\r\n\r\n  }\r\n\r\n  clickCheckboxParameter (option, parameter, value) {\r\n    let { options } = this.state\r\n\r\n    options[option][parameter] = value\r\n    this.setState({options: options})\r\n\r\n    if (option === \"isoline\") {\r\n      this.calculateIsoline(options.isoline.marker)\r\n\r\n    } else if (option === \"waypoints\"){\r\n      this.calculateRoute()\r\n    }\r\n\r\n  }\r\n\r\n  changeIsolineMarker (coords) {\r\n    this.calculateIsoline(coords)\r\n\r\n    let { options } = this.state\r\n    options.isoline.marker = {lat: coords.lat, lng: coords.lng}\r\n    this.setState({options: options})\r\n  }\r\n\r\n  calculateIsoline (coords) {\r\n    let { options } = this.state\r\n    let { isoline } = options\r\n\r\n    if (coords.lat === null && coords.lng === null) {\r\n      return\r\n    }\r\n\r\n    let isolineBaseUrl = \"https://isoline.route.ls.hereapi.com/routing/7.2/calculateisoline.json?\"\r\n\r\n    // debugger\r\n    let isolineRequest = isolineBaseUrl + `apikey=${config.apikey}&mode=fastest;${isoline.transport};traffic:${isoline.traffic}&rangetype=${isoline.type}&range=${isoline.range}&start=geo!${coords.lat},${coords.lng}`\r\n\r\n    axios.get(isolineRequest)\r\n      .then(res => {\r\n        if(res.data.response !== null){\r\n          options.isoline.geometry = res.data.response.isoline[0].component[0].shape\r\n          this.setState({options: options})\r\n        }\r\n        \r\n      }, error => {\r\n        console.log(error)\r\n      })\r\n  }\r\n\r\n  clearIsoline () {\r\n    let { options } = this.state\r\n    options.isoline.geometry = []\r\n    options.isoline.marker = {lat: null, lng: null}\r\n    this.setState({options: options})\r\n  }\r\n\r\n  clickOptionDropdown (option) {\r\n    let { options } = this.state\r\n\r\n    options[option].show = !options[option].show\r\n    this.setState({options: options}) \r\n  }\r\n\r\n  updateWaypoints (waypoint) {\r\n    let { options } = this.state\r\n    options.waypoints.markers = [...options.waypoints.markers, waypoint]\r\n    this.calculateRoute()\r\n    this.setState({ options: options })\r\n  }\r\n\r\n  clearWaypoints () {\r\n    let { options } = this.state\r\n    options.waypoints.geometry = []\r\n    options.waypoints.markers = []\r\n    this.setState({ options: options})\r\n  }\r\n\r\n  calculateRoute () {\r\n\r\n    let { options } = this.state\r\n    let { waypoints } = options\r\n\r\n    let waypointBaseUrl = \"https://wse.ls.hereapi.com/2/findsequence.json?\"\r\n    let routeBaseUrl = \"https://route.ls.hereapi.com/routing/7.2/calculateroute.json?\"\r\n    \r\n    if (waypoints.markers.length === 1) {\r\n      return\r\n    }\r\n\r\n\r\n    let waypointsToString = waypoints.markers.map( (coords, i) => {\r\n\r\n      if (i === 0) {\r\n        return `start=${i};${coords.lat},${coords.lng}`\r\n      } else if (i === waypoints.markers.length -1) {\r\n        return `end=${i};${coords.lat},${coords.lng}`\r\n      } else {\r\n        return `destination${i}=${i};${coords.lat},${coords.lng}`\r\n      }\r\n    }).join(\"&\")\r\n\r\n    let waypointsRequest = waypointBaseUrl + `apikey=${config.apikey}&mode=fastest;${waypoints.transport}&` + waypointsToString\r\n\r\n    axios.get(waypointsRequest)\r\n      .then(res => {\r\n        \r\n        // debugger\r\n        let new_markers = res.data.results[0].waypoints.map( (point, i) => {\r\n          return {lat: point.lat, lng: point.lng}\r\n        })\r\n\r\n        let routeToString = res.data.results[0].waypoints.map( (point, i) => {\r\n          return `waypoint${i}=geo!${point.lat},${point.lng}`\r\n        }).join(\"&\")\r\n\r\n        let routeRequest = routeBaseUrl + `apikey=${config.apikey}&mode=fastest;${waypoints.transport};traffic:${waypoints.traffic}&routeattributes=sh&` + routeToString\r\n        \r\n        axios.get(routeRequest)\r\n          .then(routeRes => {\r\n            let polylineArray = routeRes.data.response.route[0].shape.map((coords, i) => {\r\n              return coords.split(',').map(Number);\r\n            })\r\n            \r\n            this.setState({\r\n              options: {\r\n                ...this.state.options,\r\n                waypoints: {\r\n                  ...this.state.options.waypoints,\r\n                  geometry: polylineArray,\r\n                  markers: new_markers\r\n                }\r\n              } \r\n            })\r\n          })\r\n      }, error => {\r\n        console.log(error)\r\n      })\r\n\r\n  }\r\n\r\n  render () {\r\n\r\n    let {\r\n      apikey,\r\n      analytics,\r\n      options,\r\n    } = this.state\r\n\r\n    return (\r\n      <lui-default-theme>\r\n        <Map \r\n          apikey={apikey}\r\n          analytics={analytics}\r\n          options={options}\r\n          clearIsoline={this.clearIsoline}\r\n          changeIsolineMarker={this.changeIsolineMarker}\r\n          updateWaypoints={this.updateWaypoints}\r\n          clearWaypoints={this.clearWaypoints}\r\n          calculateRoute={this.calculateRoute}\r\n          />\r\n        \r\n        <Sidebar \r\n          analytics={analytics}\r\n          changeActiveLayer={this.changeActiveLayer} \r\n          options={options}\r\n          changeMode={this.changeMode}\r\n          checkBoxClick={this.checkBoxClick}\r\n          dropdownClick={this.dropdownClick}\r\n          onChangeIsolineRange={this.onChangeIsolineRange}\r\n          clickCheckboxParameter={this.clickCheckboxParameter}\r\n          clickOptionDropdown={this.clickOptionDropdown}/>\r\n\r\n        <Search />\r\n\r\n      </lui-default-theme>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './components/App'\r\n\r\nimport '@here/lui-init/dist/lui-init.min'\r\nimport '@here/lui-webfont/dist/lui-webfont.min'\r\nimport '@here/lui-layer-theme/dist/lui-layer-theme.min'\r\nimport '@here/lui-button/dist/lui-button.min'\r\nimport '@here/lui-navigation/dist/lui-navigation.min'\r\nimport '@here/lui-tabbar/dist/lui-tabbar.min'\r\nimport '@here/lui-checkbox/dist/lui-checkbox.min'\r\nimport '@here/lui-logo/dist/lui-logo.min'\r\nimport '@here/lui-spinner/dist/lui-spinner.min'\r\nimport '@here/lui-search/dist/lui-search.min'\r\nimport '@here/lui-menu/dist/lui-menu.min'\r\nimport '@here/lui-label/dist/lui-label.min'\r\nimport '@here/lui-radiobutton/dist/lui-radiobutton.min'\r\nimport '@here/lui-overlay/dist/lui-overlay.min'\r\n\r\nimport './assets/css/index.css'\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}